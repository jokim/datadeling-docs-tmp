"use strict";(self.webpackChunkprod=self.webpackChunkprod||[]).push([[7890],{3905:function(e,t,r){r.d(t,{Zo:function(){return g},kt:function(){return u}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=n.createContext({}),s=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},g=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,p=e.parentName,g=o(e,["components","mdxType","originalType","parentName"]),m=s(r),u=a,k=m["".concat(p,".").concat(u)]||m[u]||d[u]||i;return r?n.createElement(k,l(l({ref:t},g),{},{components:r})):n.createElement(k,l({ref:t},g))}));function u(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,l=new Array(i);l[0]=m;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var s=2;s<i;s++)l[s]=r[s];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},8230:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return o},contentTitle:function(){return p},metadata:function(){return s},toc:function(){return g},default:function(){return m}});var n=r(7462),a=r(3366),i=(r(7294),r(3905)),l=["components"],o={description:"Oppskrift for hvordan man registrerer et enkelt API i Gravitee. I tillegg til \xe5 registrere API m\xe5 man opprette en eller flere planer.",title:"Registrere et enkelt API"},p="Registrere et enkelt API",s={unversionedId:"datadeling/veiledere/api-manager/api-manager-registrere-enkelt-api",id:"datadeling/veiledere/api-manager/api-manager-registrere-enkelt-api",isDocsHomePage:!1,title:"Registrere et enkelt API",description:"Oppskrift for hvordan man registrerer et enkelt API i Gravitee. I tillegg til \xe5 registrere API m\xe5 man opprette en eller flere planer.",source:"@site/docs/datadeling/veiledere/api-manager/api-manager-registrere-enkelt-api.md",sourceDirName:"datadeling/veiledere/api-manager",slug:"/datadeling/veiledere/api-manager/api-manager-registrere-enkelt-api",permalink:"/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/api-manager-registrere-enkelt-api",editUrl:"https://github.com/jokim/datadeling-docs-tmp/tree/gh-pages/docs/datadeling/veiledere/api-manager/api-manager-registrere-enkelt-api.md",version:"current",frontMatter:{description:"Oppskrift for hvordan man registrerer et enkelt API i Gravitee. I tillegg til \xe5 registrere API m\xe5 man opprette en eller flere planer.",title:"Registrere et enkelt API"},sidebar:"tutorialSidebar",previous:{title:"F\xe5 tilgang til et API",permalink:"/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/api-manager-be-om-tilgang"},next:{title:"Forvaltning av tilganger til API",permalink:"/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/api-tilganger"}},g=[],d={toc:g};function m(e){var t=e.components,o=(0,a.Z)(e,l);return(0,i.kt)("wrapper",(0,n.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"registrere-et-enkelt-api"},"Registrere et enkelt API"),(0,i.kt)("p",null,"Oppskrift for hvordan man registrerer et enkelt API i Gravitee. I tillegg til \xe5 registrere API m\xe5 man opprette en eller flere planer."),(0,i.kt)("p",null,"Logg inn i API manager og g\xe5 p\xe5 siden for API. For \xe5 kunne registrere API her m\xe5 man ha rollen API Publisher. Kontakt adminstrator ved din enhet om du ikke har denne rollen."),(0,i.kt)("p",null,"G\xe5 f\xf8rst til oversikten over API ved \xe5 enten klikke p\xe5 administration i menyen oppe til h\xf8yre eller APIs i menyen til venstre. Klikk s\xe5 p\xe5\xa0 +-tegnet. Om du ikke ser dette har du ikke tilgang til \xe5 registrere API."),(0,i.kt)("p",null,(0,i.kt)("img",{src:r(9385).Z})),(0,i.kt)("p",null,"P\xe5 neste side kan man velge om man vil importere API definisjonen eller opprette fra bunn av. Om man har en eksport av APIet fra en annen Gravitee-installasjon eller har en API-definisjon i Open API-format/Swagger-fil kan men bruke denne. Dette gj\xf8r registreringen mye raskene, men man m\xe5 som oftest endre eller rette opp litt i etterkant."),(0,i.kt)("p",null,"I denne rettledningen oppretter vi APIet fra bunn av ved \xe5 trykke p\xe5 den bl\xe5 pilen."),(0,i.kt)("p",null,"Fyll s\xe5 inn Navn, versjonsnummer, beskrivelse og context-path for APIet. Et beskrivende navn og bra beskrivelse vil gj\xf8re APIet mye mer nyttig for andre."),(0,i.kt)("p",null,"context-path vil v\xe6re en del av URL-en til APIet. Eksempelet over til for UiOs gateway v\xe6re tilgjengelig p\xe5 URLen ",(0,i.kt)("a",{parentName:"p",href:"https://gw-uio.intark.uh-it.no/my-first-echo-api"},"https://gw-uio.intark.uh-it.no/my-first-echo-api")),(0,i.kt)("p",null,"Mek at disse patth-ene er en begrenset ressurs. Om man f.eks. registrerer et utviklings-API under /personer , vil ikke ha mulighet til \xe5 registrere test-milj\xf8 under /personer/test. Da kan det v\xe6re bedre \xe5 bruke f.eks. /personer/utv/v1"),(0,i.kt)("p",null,(0,i.kt)("img",{src:r(9703).Z})),(0,i.kt)("p",null,"P\xe5 neste side skriv inn URL til backend. Om API-et er \xe5pent for alle er dette alt som trengs, om API gateway m\xe5 autentisere seg konfigurere vi dette etterp\xe5."),(0,i.kt)("p",null,(0,i.kt)("img",{src:r(4687).Z})),(0,i.kt)("p",null,"P\xe5 neste side kan man opprette en plan om man vil. Man kan utsette oppretting av planer ved \xe5 velge SKIP. I denne veiviseren er det kun mulig \xe5 opprette \xe5pne planer eller planer som bruker API-n\xf8kler. Vil man bruke OAuth 2 og/eller JWTs for autentisering m\xe5 disse opprettes etterp\xe5"),(0,i.kt)("p",null,'Her er et eksempel p\xe5 en enkel plan. Den gir lese-tilgang til alle ressurser i APIet om man har en API-n\xf8kkel. Siden dette er et echo-API er det ikke n\xf8dvendig \xe5 ha noe sikring. For \xe5 gj\xf8re APIet helt \xe5pent, velg Keyless (Public). For \xe5 kunne se hvem som bruker et API, men alle kan f\xe5 tilgang kan man velge "auto-subscribe"'),(0,i.kt)("p",null,'Under Path Authorization kan man hvite-liste eller svarte-liste tilgang til ressurser. For denne planen har vi valgt at alle kan kj\xf8re oppslag ( GET http-verb ) for alle ressurser/"under-URLer" (/)'),(0,i.kt)("p",null,(0,i.kt)("img",{src:r(7794).Z})),(0,i.kt)("p",null,"P\xe5 neste side kan man laste opp dokumentasjon. Dette kan v\xe6re html-sider (med f.eks. overordnet dokumentasjon) eller OpenAPI/swagger filer ( brukes ofte som teknisk dokumentasjon). Det er ogs\xe5 mulig \xe5 importere dokumentasjon fra nett (\xe5pne web-sider eller git-repositories) eller skrive dokumentasjon direkte etter at APIet er opprettet."),(0,i.kt)("p",null,(0,i.kt)("img",{src:r(7592).Z})),(0,i.kt)("p",null,"P\xe5 siste side kan de velge om du vil opprette APIet uten \xe5 starte det, eller opprette og starte"),(0,i.kt)("p",null,"Etter \xe5 ha g\xe5tt gjennom veiviseren for \xe5 opprette API m\xe5 man gjerne gj\xf8re litt mer arbeid f\xf8r APIet er helt klart til bruk."),(0,i.kt)("p",null,"Les mer om hvordan"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/datadeling/veiledere/api-manager/opprette-plan"},"Opprette flere planer")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/datadeling/veiledere/api-manager/backend"},"Autentisering mot backend")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/datadeling/veiledere/api-manager/legge-pa-enkel-policy"},"Legge policyes p\xe5 API")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/datadeling/veiledere/api-manager/varsling-for-api-eiere"},"Legge til flere mottakere av e-post"))))}m.isMDXComponent=!0},9385:function(e,t,r){t.Z=r.p+"assets/images/image-20200924095643-2-ef1203fafad0de8f3f5abf7e6ff5695f.png"},9703:function(e,t,r){t.Z=r.p+"assets/images/image-20200924102426-3-f4afb11e344480aa126e9a1f9487f436.png"},4687:function(e,t,r){t.Z=r.p+"assets/images/image-20200924114923-2-df45a7d632dc4d99edba0685eb67ff0e.png"},7794:function(e,t,r){t.Z=r.p+"assets/images/image-20200924132314-3-4198a51efb781968fe839743f7d12034.png"},7592:function(e,t,r){t.Z=r.p+"assets/images/image-20200924133645-4-fdca10df12a3f77de0805ff5c7fc7544.png"}}]);