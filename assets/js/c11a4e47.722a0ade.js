"use strict";(self.webpackChunkprod=self.webpackChunkprod||[]).push([[9084],{3905:function(e,n,t){t.d(n,{Zo:function(){return k},kt:function(){return g}});var r=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=r.createContext({}),d=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},k=function(e){var n=d(e.components);return r.createElement(l.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},p=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,k=s(e,["components","mdxType","originalType","parentName"]),p=d(t),g=i,m=p["".concat(l,".").concat(g)]||p[g]||u[g]||a;return t?r.createElement(m,o(o({ref:n},k),{},{components:t})):r.createElement(m,o({ref:n},k))}));function g(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,o=new Array(a);o[0]=p;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var d=2;d<a;d++)o[d]=t[d];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}p.displayName="MDXCreateElement"},9234:function(e,n,t){t.r(n),t.d(n,{assets:function(){return k},contentTitle:function(){return l},default:function(){return g},frontMatter:function(){return s},metadata:function(){return d},toc:function(){return u}});var r=t(3117),i=t(102),a=(t(7294),t(3905)),o=["components"],s={slug:"/datadeling/god-praksis/notifikasjonsdesign/",title:"Hvordan designe dine notifikasjoner"},l="Hvordan designe dine notifikasjoner",d={unversionedId:"datadeling/god-praksis/notifikasjonsdesign",id:"datadeling/god-praksis/notifikasjonsdesign",title:"Hvordan designe dine notifikasjoner",description:"TODO: Legg inn forklaringar, erfaringar og anna god praksis rundt notifikasjonar",source:"@site/docs/datadeling/god-praksis/notifikasjonsdesign.md",sourceDirName:"datadeling/god-praksis",slug:"/datadeling/god-praksis/notifikasjonsdesign/",permalink:"/datadeling-docs-tmp/docs/datadeling/god-praksis/notifikasjonsdesign/",editUrl:"https://github.com/jokim/datadelingsdokumentasjon/tree/master/docs/datadeling/god-praksis/notifikasjonsdesign.md",tags:[],version:"current",frontMatter:{slug:"/datadeling/god-praksis/notifikasjonsdesign/",title:"Hvordan designe dine notifikasjoner"},sidebar:"tutorialSidebar",previous:{title:"Hendelsesbasert provisjonering",permalink:"/datadeling-docs-tmp/docs/datadeling/god-praksis/integrasjonsmonster/hendelsesbasert/"},next:{title:"Kode som bruker IntArk",permalink:"/datadeling-docs-tmp/docs/datadeling/kode"}},k={},u=[{value:"Anbefalt standard",id:"anbefalt-standard",level:2},{value:"Forskjeller i IntArk",id:"forskjeller-i-intark",level:3},{value:"Hva b\xf8r en notifikasjon inneholde?",id:"hva-b\xf8r-en-notifikasjon-inneholde",level:2},{value:"Framtidige hendelser",id:"framtidige-hendelser",level:3},{value:"Eksempler",id:"eksempler",level:2},{value:"Hvorfor tynne meldinger?",id:"hvorfor-tynne-meldinger",level:2},{value:"Se ogs\xe5",id:"se-ogs\xe5",level:2}],p={toc:u};function g(e){var n=e.components,t=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"hvordan-designe-dine-notifikasjoner"},"Hvordan designe dine notifikasjoner"),(0,a.kt)("p",null,"TODO: Legg inn forklaringar, erfaringar og anna god praksis rundt notifikasjonar"),(0,a.kt)("p",null,'Med "notifikasjoner" mener vi her "tynne meldinger" som g\xe5r via en meldingsk\xf8.\nSe mer i ',(0,a.kt)("a",{parentName:"p",href:"/docs/datadeling/begreper"},"begrepsoversikten"),". Disse notifikasjonene\nbrukes i hovedsak i integrasjonsm\xf8nsteret ",(0,a.kt)("a",{parentName:"p",href:"/docs/datadeling/god-praksis/integrasjonsmonster/hendelsesbasert"},"hendelsesbasert\nprovisjonering"),"."),(0,a.kt)("h2",{id:"anbefalt-standard"},"Anbefalt standard"),(0,a.kt)("p",null,"Hver tilbyder st\xe5r selv fritt til \xe5 velge format p\xe5 sine notifikasjoner, men i\nIntArk anbefaler vi bruk av standarden ",(0,a.kt)("a",{parentName:"p",href:"https://cloudevents.io/"},"CloudEvent"),".\nDette fordi det er system- og leverand\xf8ruavhengig standard som kan brukes av\nalle, og inneholder mange av de samme slutningene som vi har erfart i IntArk."),(0,a.kt)("p",null,"Merk at ogs\xe5 notifikasjoner b\xf8r f\xf8lge samme prinsippene som ",(0,a.kt)("a",{parentName:"p",href:"/docs/datadeling/god-praksis/api-design"},"utforming av\nAPI"),": Vi frar\xe5der \xe5 lage egne\nnotifikasjoner som er skreddersydde for spesifikke konsumenter, men lage\nnotifikasjoner som er generelle og standardiserte nok til \xe5 kunne brukes av\nalle som \xf8nsker det."),(0,a.kt)("h3",{id:"forskjeller-i-intark"},"Forskjeller i IntArk"),(0,a.kt)("p",null,"I IntArk har vi noen erfaringer som vi anbefaler at blir tatt hensyn til:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"TODO: Framtidige hendingar? anna fr\xe5 cloudevents? Sjekk kva som vart landa i\nOrgReg, og legg ut d\xf8mer!")),(0,a.kt)("h2",{id:"hva-b\xf8r-en-notifikasjon-inneholde"},"Hva b\xf8r en notifikasjon inneholde?"),(0,a.kt)("p",null,"Meningen med en notifikasjon er \xe5 fortelle konsumenter at ",(0,a.kt)("em",{parentName:"p"},"noe har skjedd")," i\nkildesystemet, slik at de kan vurdere om de skal gj\xf8re noe. Ved at tilbyder\nselv sier i fra, slipper tilbyder at hver enkelt konsument jevnlig sp\xf8r etter\nom noe nytt har skjedd siden sist."),(0,a.kt)("p",null,"Notifikasjonen trenger som minimum \xe5 fortelle konsumentene:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Hvilket system, instans eller API dette gjelder. S\xe5 konsumenten vet hvor data\nskal hentes fra."),(0,a.kt)("li",{parentName:"ul"},"Hvilken entitet eller endepunkt endringen gjelder for.")),(0,a.kt)("p",null,"Det er ogs\xe5 en fordel at notifikasjonen ogs\xe5 forteller konsumentene:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Hvilken type endring det er snakk om. Er det for eksempel oppretting, endring eller sletting av en entitet?"),(0,a.kt)("li",{parentName:"ul"},"Hvilket tidspunkt gjelder endringen for"),(0,a.kt)("li",{parentName:"ul"},"Hvilke attributter som blir p\xe5virket. Dette gj\xf8r det enklere for konsumenter \xe5 filtrere bort endringer som ikke er relevante for de.")),(0,a.kt)("p",null,"Mye av denne ekstra informasjonen er detaljer som konsumenten kan bruke for \xe5\nredusere antal oppslag som m\xe5 gj\xf8res. Det er med andre ord optimalisering."),(0,a.kt)("h3",{id:"framtidige-hendelser"},"Framtidige hendelser"),(0,a.kt)("p",null,"I noen tilfeller vil en endring ikke kunne v\xe6re gydlig f\xf8r etter et tidspunkt\nfram i tid. Et eksempel p\xe5 dette er at en saksbehandler oppretter en ny ansatt\nsom ikke skal starte f\xf8r neste uke."),(0,a.kt)("p",null,"Tilbyderen m\xe5 sende ut notifikasjon om dette p\xe5 tidspunktet registreringen\nskjedde. Tilbyderen har ",(0,a.kt)("strong",{parentName:"p"},"ikke")," ansvar for \xe5 sende ut noen notifikasjon p\xe5\ntidspunktet slike endringer trer i kraft - dette m\xe5 konsumenten selv ta ansvar\nfor. Bakgrunnen for dette er at det er ulikt hvordan konsumentene forholder seg\ntil dette - et IGA-system vil for eksempel kunne ha behov for \xe5 registrere den\nansatte en dag f\xf8r tidspunktetn, mens et rapporteringssystem kanskje vil ha med\nnye data uavhengig av starttidspunkt."),(0,a.kt)("p",null,"TODO: Skriv bedre."),(0,a.kt)("h2",{id:"eksempler"},"Eksempler"),(0,a.kt)("p",null,"Eksempel p\xe5 hvordan en notifikasjon som bruker CloudEvents-standarden:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'{\n    "specversion" : "1.0",\n    "type" : "no.uio.cerebrum.account.create",\n    "source" : "https://cerebrum-uio.uio.no",\n    "subject" : "https://cerebrum-uio.uio.no/api/v2/accounts/123456",\n    "id" : "4d3559ec67504aaba65d40b0363faad8",\n    "time" : "2020-10-29T09:01:14Z",\n}\n')),(0,a.kt)("p",null,'Dette eksempelet er en typisk "tynn melding", som forteller deg at en\nbrukerkonto har blitt opprettet, men ikke stort mer. For \xe5 vite mer om\nbrukerkontoen m\xe5 du snakke med API-et som subject-feltet lenker til.'),(0,a.kt)("p",null,"Eksempel p\xe5 en enklere melding:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"accounts/123456\n")),(0,a.kt)("p",null,"For enkle tjenester kan dette v\xe6re godt nok, men de fleste tjenester vil \xf8nske\n\xe5 eksponere mer detaljer, spesielt for \xe5 redusere antal sp\xf8rringer fra\nkonsumentene."),(0,a.kt)("h2",{id:"hvorfor-tynne-meldinger"},"Hvorfor tynne meldinger?"),(0,a.kt)("p",null,"Tynne meldinger gir en enklere flyt for provisjoneringsl\xf8sninger, som er fokus\np\xe5 status her og n\xe5. Meldingen er tynne for \xe5 redusere for eksempel mengden\npersonopplysninger. Det unng\xe5r ogs\xe5 at konsumenter blir forvirret og anser\ninnholdet i meldingen som kildedata - meldingen kan nemlig v\xe6re forsinket og\nvil derfor kunne inneholde utdaterte data."),(0,a.kt)("h2",{id:"se-ogs\xe5"},"Se ogs\xe5"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/datadeling/god-praksis/integrasjonsmonster/hendelsesbasert"},"Integrasjonsm\xf8nsteret hendelsesbasert provisjonering"),", som bruker notifikasjoner"),(0,a.kt)("li",{parentName:"ul"},"TODO: Detaljer om meldingsk\xf8, td routing topologi"),(0,a.kt)("li",{parentName:"ul"},"TODO: lenke til BROM")))}g.isMDXComponent=!0}}]);