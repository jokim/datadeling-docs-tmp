"use strict";(self.webpackChunkdatadeling=self.webpackChunkdatadeling||[]).push([[4517],{3905:function(e,t,n){n.d(t,{Zo:function(){return k},kt:function(){return m}});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=r.createContext({}),d=function(e){var t=r.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},k=function(e){var t=d(e.components);return r.createElement(o.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,o=e.parentName,k=s(e,["components","mdxType","originalType","parentName"]),u=d(n),m=i,g=u["".concat(o,".").concat(m)]||u[m]||p[m]||a;return n?r.createElement(g,l(l({ref:t},k),{},{components:n})):r.createElement(g,l({ref:t},k))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,l=new Array(a);l[0]=u;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:i,l[1]=s;for(var d=2;d<a;d++)l[d]=n[d];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},6940:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return o},metadata:function(){return d},toc:function(){return k},default:function(){return u}});var r=n(7462),i=n(3366),a=(n(7294),n(3905)),l=["components"],s={description:"Anbefalinger rundt utforming av API.",title:"API-design"},o="API-design",d={unversionedId:"datadeling/god-praksis/api-design/index",id:"datadeling/god-praksis/api-design/index",isDocsHomePage:!1,title:"API-design",description:"Anbefalinger rundt utforming av API.",source:"@site/docs/datadeling/god-praksis/api-design/index.md",sourceDirName:"datadeling/god-praksis/api-design",slug:"/datadeling/god-praksis/api-design/index",permalink:"/datadeling-docs-tmp/docs/datadeling/god-praksis/api-design/index",editUrl:"https://github.com/jokim/datadeling-docs-tmp/tree/gh-pages/docs/datadeling/god-praksis/api-design/index.md",version:"current",frontMatter:{description:"Anbefalinger rundt utforming av API.",title:"API-design"},sidebar:"tutorialSidebar",previous:{title:"Tjenesteportef\xf8lje",permalink:"/datadeling-docs-tmp/docs/datadeling/forvaltning/portefolje"},next:{title:"Webservice \u2013 hva og hvordan",permalink:"/datadeling-docs-tmp/docs/datadeling/god-praksis/bruk-av-webservice"}},k=[{value:"Prinsipper for godt API design",id:"prinsipper-for-godt-api-design",children:[]},{value:"Omr\xe5der",id:"omr\xe5der",children:[]},{value:"Semantikk",id:"semantikk",children:[]},{value:"Sjekkliste for API",id:"sjekkliste-for-api",children:[]}],p={toc:k};function u(e){var t=e.components,n=(0,i.Z)(e,l);return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"api-design"},"API-design"),(0,a.kt)("p",null,"Anbefalinger rundt utforming av API."),(0,a.kt)("p",null,"Jobber du med en tjeneste med data som andre vil kunne ha nytte av? I s\xe5 fall trenger tjenesten din et API."),(0,a.kt)("h2",{id:"prinsipper-for-godt-api-design"},"Prinsipper for godt API design"),(0,a.kt)("p",null,"TBD: H\xf8yr med Heidi om desse. Kva vart det landa p\xe5?"),(0,a.kt)("p",null,"Utformingen av API m\xe5 f\xf8lge ",(0,a.kt)("a",{parentName:"p",href:"/docs/datadeling/prinsippene"},"integrasjonsprinsippene"),", som blant annet sier at du b\xf8r ha et \xe5pent gresesnitt og det b\xf8r v\xe6re s\xe5 l\xf8st koblet som mulig."),(0,a.kt)("p",null,"Overordnet valg av typen API:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Finnes det en API-standard for datasettet du skal tilby? Prioriter \xe5 bruke denne! Standardisering gj\xf8r det enklere \xe5 bytte systemer, p\xe5 begge sider av integrasjonen."),(0,a.kt)("li",{parentName:"ol"},"Bruk bransjestandarder, der det finnes. For eksempel bruk av RESTfult eller GraphQL. Se mer om IntArks anbefaling om ",(0,a.kt)("a",{parentName:"li",href:"/docs/datadeling/god-praksis/bruk-av-webservice"},"Web services"),"."),(0,a.kt)("li",{parentName:"ol"},"Finnes det lignende data i andre kildesystemer? Det b\xf8r i s\xe5 fall f\xf8rst avklares hvilken tjeneste som er kildesystem for hvilke data."),(0,a.kt)("li",{parentName:"ol"},"Bruk lignende semantikk som i tilsvarende datasett andre steder, hvis mulig. Du anbefales \xe5 gjenbruke eksisterende datasett fra ",(0,a.kt)("a",{parentName:"li",href:"https://data.norge.no"},"data.norge.no"),". Hvis det ikke finnes, kan du med fordel publisere eget definert datasett der.")),(0,a.kt)("p",null,"Hva ",(0,a.kt)("a",{parentName:"p",href:"/docs/datadeling/prinsippene"},"integrasjonsprinsippene")," har \xe5 si n\xe5r du skal designe et API:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Brukerorientert"),": Ha i bakhodet at brukernes behov kan endre seg raskt, og at vi ogs\xe5 derfor b\xf8r kunne endre oss raskt. Endringsdyktighet kan fort v\xe6re viktigere enn for eksempel hvor effektiv en integrasjon er."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Tjenesteorientert"),": Bruk s\xe5 l\xf8se koblinger som mulig, som vil si \xe5 gj\xf8re det s\xe5 enkelt som mulig \xe5 bytte ut tjenester p\xe5 begge sider av en integrasjon. For eksempel:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Bruk API-standarder, hvis det finnes"),(0,a.kt)("li",{parentName:"ul"},"Bruk bransjestandarder, for eksempel RESTful"),(0,a.kt)("li",{parentName:"ul"},"Hold API-et p\xe5 funksjonelt niv\xe5, og unng\xe5 systemspesifikke detaljer."),(0,a.kt)("li",{parentName:"ul"},"Bruk felles semantikk, hvis det finnes."),(0,a.kt)("li",{parentName:"ul"},"Unng\xe5 skredders\xf8m for en enkelt tjeneste. TBD: Korleis er dette i samanheng med eHelse si anbefaling om eitt API per type teneste (nettside, mobil etc)?"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Tilgjengelig"),": Lag et \xe5pent grensesnitt, som vil si at spesifikasjonen av ditt API m\xe5 v\xe6re fritt tilgjengelig og leverand\xf8ruavhengig. Motsetningen er propriet\xe6re grensesnitt som bare enkelte leverand\xf8rer kan integrere mot, som reduserer fleksibiliteten til sektoren."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Oversiktlig"),": Registrer ditt API i din institusjons API-katalog, og dokumenter den. IntArk anbefaler som minimum \xe5 f\xf8lge ",(0,a.kt)("a",{parentName:"li",href:"https://www.openapis.org/"},"OpenAPI-spesifikasjonen")," (swagger)."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Etterrettelig:")," Konsumenter m\xe5 snakke med ditt API via din institusjons API gateway. Dette gj\xf8r at institusjonen f\xe5r samlet oversikt over dataflyt, og har kontroll og kan for eksempel sperre tilganger ved behov."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Fleksibel"),": Unntak fra prinsipper og anbefalinger er tillatt, men m\xe5 begrunnes. Det kan for eksempel bli vurdert \xe5 ikke v\xe6re hensiktsmessig \xe5 utvikle et nytt API hvis en liten tjeneste har et propriet\xe6rt API som fungerer greit nok. Vurderingen m\xe5 gj\xf8res med hensyn p\xe5 institusjonen og sektoren som helhet."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Effektiv"),": Noen datasett kan v\xe6re \xf8nskelig \xe5 kombinere for mange konsumenter. Det kan da v\xe6re nyttig \xe5 lage et knutepunkt, eller tjenestebuss, som sammenstiller disse dataene."),(0,a.kt)("li",{parentName:"ul"},"TODO:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Kor st\xe5r det om \xe5 snakke direkte med kilden?"),(0,a.kt)("li",{parentName:"ul"},"Kor st\xe5r det om ansvarsplassering?")))),(0,a.kt)("p",null,"Andre hensyn du b\xf8r ta:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Hold API p\xe5 funksjonelt niv\xe5 s\xe5 langt det er mulig. Unng\xe5 for eksempel \xe5 eksponere interne systemdetaljer i API-et, for eksempel hvilke databasetabeller du m\xe5 snakke med. Konsumenter \xf8nsker \xe5 fokusere p\xe5 dataene, uten \xe5 m\xe5tte ha kunnskap om interne detaljer i systemet ditt."),(0,a.kt)("li",{parentName:"ul"},"TODO: Si noe om semantikk og begrepsbruk.")),(0,a.kt)("p",null,"Andre krav til et API:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Registrer ditt API i din institusjons API-katalog."),(0,a.kt)("li",{parentName:"ul"},"API-et m\xe5 v\xe6re dokumentert. Minimumskravet er at det er dokumentert etter ",(0,a.kt)("a",{parentName:"li",href:"https://www.openapis.org/"},"OpenAPI-spesifikasjonen")," (typisk i swagger-dokumentasjon), som b\xf8r ligge i eller lenkes til fra API-katalogen."),(0,a.kt)("li",{parentName:"ul"},"TBD: Si noe om krav til dokumentasjon av datasett? Har vi noe \xe5 lene oss p\xe5, for eksempel standarder \xe5 f\xf8lge?")),(0,a.kt)("p",null,"Andre tips:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Snakk med konsumentene! Det er lett \xe5 g\xe5 i fella \xe5 inkludere systemspesifikke detaljer i API-et ditt, s\xe5 det kan vere nyttig \xe5 ha en dialog med ",(0,a.kt)("strong",{parentName:"li"},"flere")," konsumenter, og komme frem til noen felles begreper p\xe5 funksjonelt niv\xe5. Hjelpesp\xf8rsm\xe5l:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Hva er konsumenten interessert i \xe5 vite om?"),(0,a.kt)("li",{parentName:"ul"},"Trenger konsumenten egentlig \xe5 vite om detalj X?"),(0,a.kt)("li",{parentName:"ul"},"Kan det forenkles?"))),(0,a.kt)("li",{parentName:"ul"},"Det er ikke enkelt \xe5 lage et godt API-design. Du b\xf8r ofte ta noen iterasjoner f\xf8r du har et API som er generelt og fungerer godt for alle konsumenter, og som f\xf8lger IntArk sine behov.")),(0,a.kt)("p",null,"TODO: Inkludere noko om begrepsansvarleg?"),(0,a.kt)("p",null,"TODO: Nemne versjonering. Sei noko om krav til levetid for gamle versjonar - lenke til vedtak? TODO"),(0,a.kt)("h2",{id:"omr\xe5der"},"Omr\xe5der"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Hvordan bygge endepunkter"),(0,a.kt)("li",{parentName:"ul"},"god praksis, td unng\xe5 verb, alltid flertall, REST"),(0,a.kt)("li",{parentName:"ul"})),(0,a.kt)("h2",{id:"semantikk"},"Semantikk"),(0,a.kt)("p",null,"TBD: Fr\xe5 heidi?"),(0,a.kt)("h2",{id:"sjekkliste-for-api"},"Sjekkliste for API"),(0,a.kt)("p",null,"Hvis du designer et API:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Er API-et p\xe5 funksjonelt nok niv\xe5?"),(0,a.kt)("li",{parentName:"ul"},"F\xf8lger API-et prinsippene til RESTful?"),(0,a.kt)("li",{parentName:"ul"},"Inneholder API teknisk terminologi som egentlig burde v\xe6rt systeminterne?"),(0,a.kt)("li",{parentName:"ul"},"Trenger konsumenter \xe5 kjenne til datamodellen?")),(0,a.kt)("p",null,"TODO: Sei noko rundt \xe5 skille ut personinformasjon fr\xe5 andre data. S\xe5 det vert enklare \xe5 tilgangsstyre. Til d\xf8mes \xe5 kunne dele ut emner, utan \xe5 m\xe5tte eksponere studentane."))}u.isMDXComponent=!0}}]);