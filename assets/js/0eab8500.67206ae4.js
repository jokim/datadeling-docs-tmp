"use strict";(self.webpackChunkdatadeling=self.webpackChunkdatadeling||[]).push([[2480],{3905:function(e,r,t){t.d(r,{Zo:function(){return p},kt:function(){return g}});var n=t(7294);function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){a(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function o(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=n.createContext({}),c=function(e){var r=n.useContext(s),t=r;return e&&(t="function"==typeof e?e(r):l(l({},r),e)),t},p=function(e){var r=c(e.components);return n.createElement(s.Provider,{value:r},e.children)},d={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},u=n.forwardRef((function(e,r){var t=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=c(t),g=a,m=u["".concat(s,".").concat(g)]||u[g]||d[g]||i;return t?n.createElement(m,l(l({ref:r},p),{},{components:t})):n.createElement(m,l({ref:r},p))}));function g(e,r){var t=arguments,a=r&&r.mdxType;if("string"==typeof e||a){var i=t.length,l=new Array(i);l[0]=u;var o={};for(var s in r)hasOwnProperty.call(r,s)&&(o[s]=r[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var c=2;c<i;c++)l[c]=t[c];return n.createElement.apply(null,l)}return n.createElement.apply(null,t)}u.displayName="MDXCreateElement"},9348:function(e,r,t){t.r(r),t.d(r,{frontMatter:function(){return o},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return p},default:function(){return u}});var n=t(7462),a=t(3366),i=(t(7294),t(3905)),l=["components"],o={description:"Hvordan du kan cache responser i Gravitee, for \xe5 redusere belastningen mot API-et ditt.",title:"Caching i gravitee"},s="Caching i gravitee",c={unversionedId:"datadeling/veiledere/api-manager/caching-gravitee",id:"datadeling/veiledere/api-manager/caching-gravitee",isDocsHomePage:!1,title:"Caching i gravitee",description:"Hvordan du kan cache responser i Gravitee, for \xe5 redusere belastningen mot API-et ditt.",source:"@site/docs/datadeling/veiledere/api-manager/caching-gravitee.md",sourceDirName:"datadeling/veiledere/api-manager",slug:"/datadeling/veiledere/api-manager/caching-gravitee",permalink:"/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/caching-gravitee",editUrl:"https://github.com/jokim/datadeling-docs-tmp/tree/gh-pages/docs/datadeling/veiledere/api-manager/caching-gravitee.md",version:"current",frontMatter:{description:"Hvordan du kan cache responser i Gravitee, for \xe5 redusere belastningen mot API-et ditt.",title:"Caching i gravitee"},sidebar:"tutorialSidebar",previous:{title:"Konfigurere backend",permalink:"/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/backend"},next:{title:"Filtrere bort innhold i responsen fra et API",permalink:"/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/filtrere-innhold-json"}},p=[{value:"Opprette en cache-ressurs",id:"opprette-en-cache-ressurs",children:[]},{value:"Opprett cache policy",id:"opprett-cache-policy",children:[]}],d={toc:p};function u(e){var r=e.components,o=(0,a.Z)(e,l);return(0,i.kt)("wrapper",(0,n.Z)({},d,o,{components:r,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"caching-i-gravitee"},"Caching i gravitee"),(0,i.kt)("p",null,"Hvordan du kan cache responser i Gravitee, for \xe5 redusere belastningen mot API-et ditt."),(0,i.kt)("p",null,"For \xe5 sette p\xe5 caching m\xe5 man opprette en eller flere cache-ressuser, og deretter legge p\xe5 en policy som benytter denne"),(0,i.kt)("h3",{id:"opprette-en-cache-ressurs"},"Opprette en cache-ressurs"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/datadeling/veiledere/img/image-20201021141543-1.png"},(0,i.kt)("img",{src:t(9017).Z}))),(0,i.kt)("p",null,"Naviger til APIet hvor du skal konfigurere cache. Velg Design og deretter Resources. Trykk p\xe5 +-tegnet for \xe5 opprette. Fyll inn navn og vel Caching resource som Type."),(0,i.kt)("p",null,"Man blir bedt om \xe5 skrive inn navn 2 steder. De f\xf8rste feltet er hva cachen blir hetende n\xe5r man ser p\xe5 ressurser. Det andre navnet brukes \xe5 policy-en. Bruk gjerne samme navn begge steder."),(0,i.kt)("p",null,'"Time to idle" er hvor lenge et svar blir cachet uten at det blir spurt p\xe5'),(0,i.kt)("p",null,'"Time to live" er hvor lenge et svar blir cachet uavhengig av om det blir spurt p\xe5 eller ikke'),(0,i.kt)("p",null,'"Max entries on heap" er hvor mange svar som kan bli lagret i denne cachen'),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/datadeling/veiledere/img/image-20201021145429-2.png"},(0,i.kt)("img",{src:t(8441).Z}))),(0,i.kt)("h3",{id:"opprett-cache-policy"},"Opprett cache policy"),(0,i.kt)("p",null,"G\xe5 til design -",">",' policy og legg cache-policy ved \xe5 "dra" den inn p\xe5 riktig path.'),(0,i.kt)("p",null,"Fyll inn"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"cache name (dvs. navn nr. 2 om du brukte forskjellige navn p\xe5 ressursen og cachen i forrige steg)"),(0,i.kt)("li",{parentName:"ul"},"Key. Dette er det viktigste valget, se nedenfor. Som oftest er dette et elelr flere parametre"),(0,i.kt)("li",{parentName:"ul"},"Time to live. Kan v\xe6re lavere enn i det som ble valgt for cache-ressursen i forrige steg"),(0,i.kt)("li",{parentName:"ul"},"max entries")),(0,i.kt)("p",null,"Cachen lagres som en key-values-store , dvs. en n\xf8kkel gir et svar. Key kan f.eks. v\xe6re et parameter. For \xe5 bruke parameteret status skriv inn"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\n{#request.params['status']}\n")),(0,i.kt)("p",null,"Da vil svare blir cachen med key lik verdien til parameteret, f.eks. sold, available eller en tom streng. Merk at om det er flere parametre som er mulig \xe5 bruke kan det bli tull. Det kan unng\xe5s ved \xe5 bruke en kombinasjon av parametre, f.eks."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\n{#request.params['status']}-{#request.params['tags']}\n")),(0,i.kt)("p",null,"for \xe5 bruke kombinasjonen av de 2 parameterne status og tags"),(0,i.kt)("p",null,"\xa0\nExpression Language-uttrykk\n{#request.params","['status']","} er et eksemple p\xe5 et Expression Language-uttrykk. De er basert p\xe5 Spring Exression Language (SpEL) og blir brukt som variable i API Manager.\nFor \xe5 lese mer om disse se ","[offisiell dokumentasjon fra leverand\xf8ren.]","(https://offisiell dokumentasjon fra leverand\xf8ren.)"))}u.isMDXComponent=!0},9017:function(e,r,t){r.Z=t.p+"assets/images/image-20201021141543-1-c341c394b610b959e04ea79db1920a4f.png"},8441:function(e,r,t){r.Z=t.p+"assets/images/image-20201021145429-2-e80c7404c86e3661714c7f1f9d12387c.png"}}]);