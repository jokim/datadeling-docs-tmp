<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<title data-rh="true">Konfigurere backend | Datadeling Test</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/backend"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Konfigurere backend | Datadeling Test"><meta data-rh="true" name="description" content="For at API gatewayen skal kunne snakke med APIet p√• backend-serveren m√• API-gatewayen som oftest autentisere seg."><meta data-rh="true" property="og:description" content="For at API gatewayen skal kunne snakke med APIet p√• backend-serveren m√• API-gatewayen som oftest autentisere seg."><link data-rh="true" rel="icon" href="/datadeling-docs-tmp/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/backend"><link data-rh="true" rel="alternate" href="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/backend" hreflang="en"><link data-rh="true" rel="alternate" href="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/backend" hreflang="x-default"><link rel="stylesheet" href="/datadeling-docs-tmp/assets/css/styles.d37e78f4.css">
<link rel="preload" href="/datadeling-docs-tmp/assets/js/runtime~main.8ef5440d.js" as="script">
<link rel="preload" href="/datadeling-docs-tmp/assets/js/main.aec61895.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/datadeling-docs-tmp/"><div class="navbar__logo"><img src="/datadeling-docs-tmp/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/datadeling-docs-tmp/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Datadeling</b></a><a class="navbar__item navbar__link navbar__link--active" href="/datadeling-docs-tmp/docs/intro">Dokumentasjon</a></div><div class="navbar__items navbar__items--right"><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/datadeling-docs-tmp/docs/intro">Test av dokumentasjonen til prosjekt Datadeling</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/datadeling-docs-tmp/docs/datadeling">datadeling</a><button aria-label="Toggle the collapsible sidebar category &#x27;datadeling&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/begreper">begreper</a><button aria-label="Toggle the collapsible sidebar category &#x27;begreper&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/erfaringer">erfaringer</a><button aria-label="Toggle the collapsible sidebar category &#x27;erfaringer&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/faq">Sp√∏rsm√•l og svar</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/god-praksis">god-praksis</a><button aria-label="Toggle the collapsible sidebar category &#x27;god-praksis&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/kode">Kode som bruker IntArk</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/malgrupper/anskaffer">malgrupper</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/om">om</a><button aria-label="Toggle the collapsible sidebar category &#x27;om&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/prinsippene">Integrasjonsprinsippene for IntArk</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/styringsregler">Styringsreglene til IntArk</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform">teknisk-plattform</a><button aria-label="Toggle the collapsible sidebar category &#x27;teknisk-plattform&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/unntak">Unntaksh√•ndtering</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere">veiledere</a><button aria-label="Toggle the collapsible sidebar category &#x27;veiledere&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/annet/anskaffelse">annet</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/api-manager-be-om-tilgang">api-manager</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/api-manager-be-om-tilgang">F√• tilgang til et API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/api-manager-registrere-enkelt-api">Registrere et enkelt API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/api-tilganger">Forvaltning av tilganger til API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/backend">Konfigurere backend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/caching-gravitee">Caching i gravitee</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/filtrere-innhold-json">Filtrere bort innhold i responsen fra et API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/godkjenne-tilgang-til-api">Godkjenne tilgang til API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/importer-api">Importer API-oppsett fra fil</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/jwt-mot-backend">Backend-autentisering med JWTs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/legge-pa-enkel-policy">Legge p√• en enkel policy (IP filter)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/maskinporten-autentisering">Konfigurere autentisering via maskinporten </a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/opprette-plan">Opprette plan</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/rettigheter-og-roller-i-api-manager">Rettigheter, roller og grupper i API Manager</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/rolle-internrevisjon">Egne roller i Gravitee (f.eks. for innsyn)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/se-bruk-av-api">Se bruken av ditt API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/varsling-for-api-eiere">Varsling av nye subscriptions o.l.</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/innforing">Kom i gang med IntArk</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/meldingsk√∏/opprett-tjeneste">meldingsk√∏</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/sjekkliste-innforing">Sjekkliste for innf√∏ring av IntArk</a></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/datadeling-docs-tmp/">üè†</a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/datadeling-docs-tmp/docs/datadeling">datadeling</a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/datadeling-docs-tmp/docs/datadeling/veiledere">veiledere</a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_e5ie">api-manager</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/backend">Konfigurere backend</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Konfigurere backend</h1><p>For at API gatewayen skal kunne snakke med APIet p√• backend-serveren m√• API gatewayen som oftest autentisere seg.</p><p>For √• konfigurere hvordan API gatewayen skal koble seg til API-et i bakgrunnen bruker du Gravitee.</p><p>Naviger til ditt API:</p><ol><li>Velg &quot;Proxy&quot; i den venstre sidemenyen</li><li>Under &quot;BACKEND SERVICES&quot; velger du &quot;Endpoints&quot;</li><li>Trykk deretter p√• tannhjulet og menyen for &quot;Endpoint configuration&quot; vil √•pnes</li></ol><p><img loading="lazy" alt="Konfigurere endpoints" src="/datadeling-docs-tmp/assets/images/image-20200925142430-1-e390af33c79d4aa15b9a20cbf9f83f7b.png" width="1363" height="580"></p><p>Har du flere backend-servere koblet til en gitt API kan du velge √• redigere dem som en gruppe slik at de har like innstillinger som vist i punkt 3. √ònsker du heller √• redigere kun √©n aktuell backend-server kan du velge tannhjulet direkte bak denne for √• legge inn unike innstillinger.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="autentisering-med-api-n√∏kkel-eller-brukernavn-og-passord">Autentisering med API-n√∏kkel eller brukernavn og passord<a class="hash-link" href="#autentisering-med-api-n√∏kkel-eller-brukernavn-og-passord" title="Direct link to heading">‚Äã</a></h3><p>For √• konfigurere autentisering med enten API-n√∏kkel eller brukernavn og passord m√• dette legges inn som en HTTP-header.</p><ol><li>Fra &quot;Endpoint configuration&quot; menyen, velg &quot;CONFIGURATION&quot;</li><li>Trykk p√• sirkelen med plusstegn ved siden av Headers</li><li>Fyll inn navnet til headeren og verdien (n√∏kkelen) som skal brukes</li></ol><p><img loading="lazy" alt="Legg til header" src="/datadeling-docs-tmp/assets/images/image-20200925143000-3-ebd909ae9fec8fa0d83deed818a7cd5e.png" width="1070" height="459"></p><p>Er det en annen Gravitee-installasjon i bakgrunnen kan det f.eks. se slik ut:</p><p><img loading="lazy" alt="Eksempel header" src="/datadeling-docs-tmp/assets/images/image-20200925143832-4-13f671bd710e11b21d7a44dfef345f6e.png" width="883" height="407"></p><p>Andre systemer bruker ofte andre navn for Headers, f.eks, bare &quot;X-API-Key&quot;.</p><p>Ved bruk av &quot;Basic Access Authentication (BA)&quot; autentiserer man med brukernavn og passord. Navnet p√• headeren settes til Authorization og inneholder teksten Basic + mellomrom + brukernavn/passord. Brukernavnet og passordet legges inn som en base64-encodet streng, skilt med : (kolon). F.eks. &quot;brukernavn:passord&quot;. </p><p>Det finnes mange verkt√∏y for √• skifte mellom vanlig tekst og base64. I linux kan man f.eks. bruke f√∏lgende kommando i et terminalvindu for √• enkode:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx text"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">echo -n brukernavn:passord | base64</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Man kan sjekke at det ble riktig ved √• legge inn den genererte koden etter echo med denne kommandoen:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx text"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">echo YnJ1a2VybmF2bjpwYXNzb3JkCg== | base64 -d</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>For dette eksempelet vil Header se slik ut i Gravitee:</p><p><img loading="lazy" alt="Ferdig header eksempel" src="/datadeling-docs-tmp/assets/images/image-20200925145447-5-1fc3f9fc0515577f1958b2ccd6167ed0.png" width="1007" height="441"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="f√•-alle-requests-fra-samme-ip-adresse">F√• alle requests fra samme IP-adresse<a class="hash-link" href="#f√•-alle-requests-fra-samme-ip-adresse" title="Direct link to heading">‚Äã</a></h3><p>Gravitee er installert p√• en kubernetes-klynge. Den kan derfor kj√∏re p√• hvilken som helst server i klyngen, og klyngen kan endre seg (utvides/erstattes). I tillegg kj√∏rer vi alltid med minst to gatewayer √•pent for √• unng√• nedetid. API gatewayen vil derfor kunne ha forskjellig ip-adresser. Mange backend-thenester ligger p√• sperrede nett eller √•pner kun for enkelt-IP-adresser. For √• unng√• √• eksponere backend-tjenester mer enn n√∏dvendig kan man konfigurere et API til √• bruke en HTTP-proxy. Foresp√∏rsler vil da f√∏rst g√• til proxy-serveren, og deretter omdirigerer proxy-serveren foresp√∏rselen videre til riktig server. For backend-serveren ser det derfor ut som om foresp√∏rselen kom fra ip-adressen til proxy-serveren.</p><p>For √• kunne gj√∏re dette m√• man ha en proxy-server. Denne b√∏r v√¶re sikret slik at ikke alle kan bruke denne. Den kan f.eks. sikres med brukernavn og passord, og kun tillate din bruker √• ta kontakt med den aktuelle backend-serveren.</p><p>Proxy-konfigurasjon gj√∏res og√• under HTTP-konfigurasjon. I &quot;CONFIGURATION&quot; menyen, huk av for &quot;HTTP proxy&quot; slik at den markeres i gr√∏nt som &quot;active&quot;, og fyll inn n√∏dvendig informasjon. Felter som m√• fylles ut er markert med * (stjerne).</p><p><img loading="lazy" alt="HTTP proxy oppsett" src="/datadeling-docs-tmp/assets/images/image-20200925151029-6-d5f22fc89bd1165759a3d050342a3f70.png" width="1491" height="899"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="token-basert">Token-basert<a class="hash-link" href="#token-basert" title="Direct link to heading">‚Äã</a></h3><p>Ved token-basert autentisering menes som oftest autentisering med Java Web Tokens (JWTs). Disse er oftest kortvarige og m√• genereres med jevne mellomrom, f.eks. hver time eller hvert tiende minutt. De kan ogs√• v√¶re for engangsbruk. Som oftest m√• man lage et en-gangs-token, kontakte en Authorization Server med det genererte en-gangs-tokenet, og f√• tilbake et token som er gyldig i en kort stund.</p><p>Token-basert autentisering er sikkert og fleksibelt √• ta i bruk, om enn litt mer komplisert √• konfigurere. Dette gj√∏res ved hjelp av policies eller et annet API. <a href="https://www.usit.uio.no/prosjekter/datadeling/arbeidsomrader/integrasjonsarkitektur/dokumentasjon/veiledere/api-manager/jwt-mot-backend.html" target="_blank" rel="noopener noreferrer">Se egen veiledning</a> for detaljert fremgangsm√•te.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="sertifikater">Sertifikater<a class="hash-link" href="#sertifikater" title="Direct link to heading">‚Äã</a></h3><p>Gatewayen kan autentisere seg med et klient-sertifikat. Dette er, som token-basert autentisering, mye sikrere enn ved bruk av API-n√∏kkel eller brukernavn og passord. Konfigureres under. </p><p>SSL - Client Authentication
<!-- -->[TODO-<!-- -->&gt;<!-- --> teste dette]<!-- -->
Fyll inn type sertificat (PKCS#12,PFX, Java key store/PEM-sertifikat/n√∏kkel-par) samt lim inn sertifikat-fila (eller path til denne om den er gjort tilgjengelig p√• filsystemet til API gateway-en) og evt. passord</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="timeouts">Timeouts<a class="hash-link" href="#timeouts" title="Direct link to heading">‚Äã</a></h3><p>Hvis man opplever problemer med at koblingen mellom Gravitee og endepunktet f√•r en timeout kan man endre innstillingene til timeout som er satt i Gravitee ved √• endre p√• feltene under &quot;HTTP Configuration&quot;. Hvert felt har egen beskrivelse for sin funksjon, og de m√• alle fylles ut.</p><p><img loading="lazy" alt="Illustrasjon over hvor man setter timeout verdiene i gravitee" src="/datadeling-docs-tmp/assets/images/2021-11-19-13.33.01-api-qa.intark.uh-it.no-b0f451af01f7-014112fbd79cd132430f9d670a597c8d.jpg" width="1152" height="769"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/jokim/datadelingsdokumentasjon/tree/master/docs/datadeling/veiledere/api-manager/backend.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/api-tilganger"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Forvaltning av tilganger til API</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/caching-gravitee"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Caching i gravitee</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#autentisering-med-api-n√∏kkel-eller-brukernavn-og-passord" class="table-of-contents__link toc-highlight">Autentisering med API-n√∏kkel eller brukernavn og passord</a></li><li><a href="#f√•-alle-requests-fra-samme-ip-adresse" class="table-of-contents__link toc-highlight">F√• alle requests fra samme IP-adresse</a></li><li><a href="#token-basert" class="table-of-contents__link toc-highlight">Token-basert</a></li><li><a href="#sertifikater" class="table-of-contents__link toc-highlight">Sertifikater</a></li><li><a href="#timeouts" class="table-of-contents__link toc-highlight">Timeouts</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 HK-dir, Unit, Uninett AS</div></div></div></footer></div>
<script src="/datadeling-docs-tmp/assets/js/runtime~main.8ef5440d.js"></script>
<script src="/datadeling-docs-tmp/assets/js/main.aec61895.js"></script>
</body>
</html>