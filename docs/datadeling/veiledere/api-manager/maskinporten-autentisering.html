<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">Konfigurere autentisering via maskinporten | Datadeling Test</title><meta data-react-helmet="true" property="og:url" content="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/maskinporten-autentisering"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Konfigurere autentisering via maskinporten | Datadeling Test"><meta data-react-helmet="true" name="description" content="[Under utvikling: Anbefalingen vil endre seg, etter erfaringer med BOTT:칒L i 2021]


Hvordan du kan sette opp autentisering av ditt API via Maskinporten, n친r du trenger 친 snakke med API utenfor din organisasjon."><meta data-react-helmet="true" property="og:description" content="[Under utvikling: Anbefalingen vil endre seg, etter erfaringer med BOTT:칒L i 2021]


Hvordan du kan sette opp autentisering av ditt API via Maskinporten, n친r du trenger 친 snakke med API utenfor din organisasjon."><link data-react-helmet="true" rel="shortcut icon" href="/datadeling-docs-tmp/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/maskinporten-autentisering"><link data-react-helmet="true" rel="alternate" href="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/maskinporten-autentisering" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/maskinporten-autentisering" hreflang="x-default"><link rel="stylesheet" href="/datadeling-docs-tmp/assets/css/styles.b121cd8c.css">
<link rel="preload" href="/datadeling-docs-tmp/assets/js/runtime~main.4c73dc9c.js" as="script">
<link rel="preload" href="/datadeling-docs-tmp/assets/js/main.d494f2be.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/datadeling-docs-tmp/"><img src="/datadeling-docs-tmp/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/datadeling-docs-tmp/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Datadeling</b></a><a class="navbar__item navbar__link navbar__link--active" href="/datadeling-docs-tmp/docs/intro">Dokumentasjon</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">游꺂</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">游</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/datadeling-docs-tmp/docs/intro">Test av dokumentasjonen til prosjekt Datadeling</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">datadeling</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">begreper</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">community</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/faq">Sp칮rsm친l og svar</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">forvaltning</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">god-praksis</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">hva-er</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/index(1)">UH:IntArk - Datadeling i universitets- og h칮gskolesektoren</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling">UH:IntArk - Datadeling i universitets- og h칮gskolesektoren</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">innforing</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">kode</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">kontaktpunkt</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">kurs</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">malgrupper</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">om</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">prinsippene</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/sidestruktur">Sidestruktur</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/status">Status p친 arbeidet med nettsidene</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">styringsregler</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">teknisk-plattform</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">vedtak</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">veiledere</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">annet</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">api-manager</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/api-manager-be-om-tilgang">F친 tilgang til et API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/api-manager-registrere-enkelt-api">Registrere et enkelt API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/api-tilganger">Forvaltning av tilganger til API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/backend">Konfigurere backend</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/caching-gravitee">Caching i gravitee</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/filtrere-innhold-json">Filtrere bort innhold i responsen fra et API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/godkjenne-tilgang-til-api">Godkjenne tilgang til API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/importer-api">Importer API-oppsett fra fil</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/jwt-mot-backend">Backend-autentisering med JWTs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/legge-pa-enkel-policy">Legge p친 en enkel policy (IP filter)</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/maskinporten-autentisering">Konfigurere autentisering via maskinporten </a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/opprette-plan">Opprette plan</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/rettigheter-og-roller-i-api-manager">Rettigheter, roller og grupper i API Manager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/rolle-internrevisjon">Egne roller i Gravitee (f.eks. for innsyn)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/se-bruk-av-api">Se bruken av ditt API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/varsling-for-api-eiere">Varsling av nye subscriptions o.l.</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere">Veiledere i UH:IntArk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/innforing">Kom i gang med UH:IntArk</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">meldingsk칮</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere/sjekkliste-innforing">Sjekkliste for innf칮ring av UH:IntArk</a></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Konfigurere autentisering via maskinporten</h1></header><p>[Under utvikling: Anbefalingen vil endre seg, etter erfaringer med BOTT:칒L i 2021]</p><p>Hvordan du kan sette opp autentisering av ditt API via Maskinporten, n친r du trenger 친 snakke med API utenfor din organisasjon.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="bakgrunn"></a>Bakgrunn<a class="hash-link" href="#bakgrunn" title="Direct link to heading">#</a></h3><p>Maskinporten kan brukes til sikker autentisering mot API p친 tvers av organisasjoner.</p><p>N친r man bruker maskinporten autentiserer man seg f칮rst mot maskinporten med et sertifikat. Som svar f친r man et tilgans-token, som igjen brukes til autorisasjon i API Gatewayen.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="forutsetninger"></a>Forutsetninger<a class="hash-link" href="#forutsetninger" title="Direct link to heading">#</a></h3><p>Det forutsettes at organisasjonen din er registrert som bruker av maskinporten og har f친tt opprettet et prefiks.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="registrer-api-i-maskinporten"></a>Registrer API i Maskinporten<a class="hash-link" href="#registrer-api-i-maskinporten" title="Direct link to heading">#</a></h3><p>F칮rst m친 API-et registreres i maskinporten. Da opprettes det et scope. Et scope kan brukes til 친 gi tilganger til ressurser i et eller flere API. Det anbefales 친 ikke bruke samme scope for 친 gi tilgang til ulike API.</p><p>I tillegg m친 de organisasjonene som skal f친 tilgang til API-et bli gitt tilgang. Dette kan gj칮res b친de f칮r og etter at API-et er registrert i API Gateway.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="registrer-api-et"></a>Registrer API-et<a class="hash-link" href="#registrer-api-et" title="Direct link to heading">#</a></h3><p>Om det ikke allerede er registrert. Om det ikke allerede er gjort finnes det <a href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/api-manager-registrere-enkelt-api">veiledning her</a>. Kom tilbake til denne siden n친r planer skal opprettes.</p><p>Opprett plan med sikret med JWT</p><p>Et tilgans-token er en type token som kalles Java Web Token, forkortet JWT (uttales jot eller j친t).</p><p>Opprett en ny plan ved 친 g친 til API-et, velg Plans og trykk p친 plusstegnet</p><p><img alt="webside for 친 opprette planer" src="/datadeling-docs-tmp/assets/images/image-20200928124644-1-b1764559e7b57ce2198043795e54e56c.png"></p><p>Skriv inn navn og en beskrivelse av planen. G친 til neste side.</p><p>P친 siden for Secure, under Authentication velg JWT som Authentication type.</p><p><img alt="Meny for vinduet Secure" src="/datadeling-docs-tmp/assets/images/image-20201012173900-1-6d0358441eec3fecdf17065005012149.png"></p><p>Videre skal f칮lgende legges til under Configuration.
I menyen for <strong>Signature</strong> la RS256 v칝re valgt (det er eneste som st칮ttes av maskinporten p.t.).</p><p>I menyen <strong>JWKS Resolver</strong>, velg JWKS_URL.</p><p>I <strong>Resolver parameter</strong> skriv eller lim inn URL hvor API Gatewayen kan finne maskinportens offentlige sertifikat. I produksjon er dette <a href="https://maskinporten.no/jwk" target="_blank" rel="noopener noreferrer">https://maskinporten.no/jwk</a> , i test er det <a href="https://ver2.maskinporten.no/jwk" target="_blank" rel="noopener noreferrer">https://ver2.maskinporten.no/jwk</a> eller <a href="https://ver1.maskinporten.no/jwk" target="_blank" rel="noopener noreferrer">https://ver1.maskinporten.no/jwk</a> , alt etter hvilket testmilj칮 man benytter.</p><p>Om du vil kunne bruke informasjon fra tokenet til flere sjekker og/eller i policyer, huk av for <strong>Extract JWT Claims</strong>.</p><p>Det er god praksis 친 sjekke autorisasjonen som er gitt b친de i API gateway og i selve API-et. Med mindre du ikke stoler p친 API-et eller det er for testing, lar du <strong>Propagate Authorization Header</strong> v칝re huket av. Tilgangs-tokenet blir da sendt til backend-API-et, og samme eller en mer grundig sjekk av tokenet foretas der. Det vil og forhindre urettmessig tilgang til API-et dersom man sp칮r backend-API-et direkte uten 친 g친 via gatewayen.</p><p><strong>User claim</strong> fungerer ikke p.t. med maskinporten.</p><p><strong>Additional selection rules.</strong> Her kan det bli litt komplisert. Her kan man legge inn flere regler for 친 v칝re sikker p친 at riktig plan blir valgt. Om API-et kun skal brukes av et scope kan du legge inn en sjekk av scope her. Er man sikker p친 at tokenet kun vil inneholde dette scopet, bruk f.eks:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly Text"><pre tabindex="0" class="prism-code language-Text codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">#context.attributes[&#x27;jwt&#x27;].claims[&#x27;scope&#x27;] matches &#x27;^org:test$&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Vil man tillate at tokenet har andre scope i tilegg til det som gir tilgang til ditt API kan man bruke:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly Text"><pre tabindex="0" class="prism-code language-Text codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">#context.attributes[&#x27;jwt&#x27;].claims[&#x27;scope&#x27;] matches &#x27;^([a-z:\\s]\\s)?org:test(\\s[a-z:\\s])?$&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Et litt mer avansert eksempel. Har man et API hvor man kan bli tildelt enten lese- og skriverettigheter, eller kun skrive- eller kun leserrettigheter.</p><p>Da kan man ha en plan for b친de lese og skrivetilgang med denne ekstra regelen:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly Text"><pre tabindex="0" class="prism-code language-Text codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">#context.attributes[&#x27;jwt&#x27;].claims[&#x27;scope&#x27;] matches &#x27;^([a-z:\\s]\\s)?org:test(\\s[a-z:\\s])?$&#x27; &amp;&amp; #context.attributes[&#x27;jwt&#x27;].claims[&#x27;scope&#x27;] matches &#x27;^([a-z:\\s]\\s)?org:test.write(\\s[a-z:\\s])?$&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Kun for skirvetilgang:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly Text"><pre tabindex="0" class="prism-code language-Text codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">#context.attributes[&#x27;jwt&#x27;].claims[&#x27;scope&#x27;] matches &#x27;^([a-z:\\s]\\s)?org:test.write(\\s[a-z:\\s])?$&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Kun for lesetilgang:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly Text"><pre tabindex="0" class="prism-code language-Text codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">#context.attributes[&#x27;jwt&#x27;].claims[&#x27;scope&#x27;] matches &#x27;^([a-z:\\s]\\s)?org:test(\\s[a-z:\\s])?$&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Merk at i dette eksempelet betyr rekkef칮lgen noe. Planer som krever to scope m친 v칝re f칮rst i lista over tilgjengelige planer. P친 siden med oversikt over planer kan rekkef칮lgen endres.</p><p>Sjekke for flere grants</p><p>Det kan v칝re tilfeller hvor man vil ha en plan per organisasjon. Det anbefales ikke om det er mange organisasjoner som skal ha tilgang, men det er mulig, og om det er et endelig lite antall er det overkommelig. For 친 legge inn regler som sl친r inn om det er riktig organisasjonsnummer og riktig scope:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly Text"><pre tabindex="0" class="prism-code language-Text codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">#context.attributes[&#x27;jwt&#x27;].claims[&#x27;consumer&#x27;][&#x27;ID&#x27;] == &#x27;0192:987654321&#x27; &amp;&amp; #context.attributes[&#x27;jwt&#x27;].claims[&#x27;scope&#x27;] matches &#x27;^([a-z:\\s]\\s)?org:test(\\s[a-z:\\s])?$&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>N친r alt er fylt inn, trykk &quot;NEXT&quot;.</p><p>For 친 legge inn rate-limit, kvoter, svartelisting, hvitelisting eller policy, , se <a href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/opprette-plan">veiledningen for planer</a>.</p><p>Husk at planen m친 publiseres f칮r den kan tas i bruk.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="registrere-applikasjon"></a>Registrere applikasjon<a class="hash-link" href="#registrere-applikasjon" title="Direct link to heading">#</a></h3><p>For at en applikasjon skal kunne bruke API-et m친 applikasjonen registreres b친de i maskinporten og i Gravitee. F칮rst m친 applikasjonen registreres som en integrasjon i maskinporten, og s친 m친 den <a href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/api-manager-be-om-tilgang">registreres i Gravitee</a> med den client_id som den ble tildelt i maskinporten. Deretter kan applikasjonen s칮ke om tilgang til riktig plan og API. N친r tilgang er tildelt kan API-et benyttes. Man bruker ikke API-n칮kkel og trenger ikke hente ut denne.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/jokim/datadeling-docs-tmp/tree/gh-pages/docs/datadeling/veiledere/api-manager/maskinporten-autentisering.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/legge-pa-enkel-policy"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">춺 Legge p친 en enkel policy (IP filter)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/datadeling-docs-tmp/docs/datadeling/veiledere/api-manager/opprette-plan"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Opprette plan 췉</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#bakgrunn" class="table-of-contents__link">Bakgrunn</a></li><li><a href="#forutsetninger" class="table-of-contents__link">Forutsetninger</a></li><li><a href="#registrer-api-i-maskinporten" class="table-of-contents__link">Registrer API i Maskinporten</a></li><li><a href="#registrer-api-et" class="table-of-contents__link">Registrer API-et</a></li><li><a href="#registrere-applikasjon" class="table-of-contents__link">Registrere applikasjon</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 춸 2022 HK-dir, Unit, Uninett AS</div></div></div></footer></div>
<script src="/datadeling-docs-tmp/assets/js/runtime~main.4c73dc9c.js"></script>
<script src="/datadeling-docs-tmp/assets/js/main.d494f2be.js"></script>
</body>
</html>