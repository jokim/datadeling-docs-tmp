<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<title data-rh="true">Hendelsesbasert provisjonering | Datadeling Test</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/god-praksis/integrasjonsmonster/hendelsesbasert"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Hendelsesbasert provisjonering | Datadeling Test"><meta data-rh="true" name="description" content="Detaljer om integrasjonsmønsteret &quot;hendelsesbasert provisjonering&quot;."><meta data-rh="true" property="og:description" content="Detaljer om integrasjonsmønsteret &quot;hendelsesbasert provisjonering&quot;."><link data-rh="true" rel="icon" href="/datadeling-docs-tmp/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/god-praksis/integrasjonsmonster/hendelsesbasert"><link data-rh="true" rel="alternate" href="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/god-praksis/integrasjonsmonster/hendelsesbasert" hreflang="en"><link data-rh="true" rel="alternate" href="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/god-praksis/integrasjonsmonster/hendelsesbasert" hreflang="x-default"><link rel="stylesheet" href="/datadeling-docs-tmp/assets/css/styles.d37e78f4.css">
<link rel="preload" href="/datadeling-docs-tmp/assets/js/runtime~main.fed4331e.js" as="script">
<link rel="preload" href="/datadeling-docs-tmp/assets/js/main.660318d4.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/datadeling-docs-tmp/"><div class="navbar__logo"><img src="/datadeling-docs-tmp/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/datadeling-docs-tmp/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Datadeling</b></a><a class="navbar__item navbar__link navbar__link--active" href="/datadeling-docs-tmp/docs/intro">Dokumentasjon</a></div><div class="navbar__items navbar__items--right"><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/datadeling-docs-tmp/docs/intro">Test av dokumentasjonen til prosjekt Datadeling</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/datadeling-docs-tmp/docs/datadeling">datadeling</a><button aria-label="Toggle the collapsible sidebar category &#x27;datadeling&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/begreper">begreper</a><button aria-label="Toggle the collapsible sidebar category &#x27;begreper&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/erfaringer">erfaringer</a><button aria-label="Toggle the collapsible sidebar category &#x27;erfaringer&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/faq">Spørsmål og svar</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/god-praksis">god-praksis</a><button aria-label="Toggle the collapsible sidebar category &#x27;god-praksis&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/god-praksis/api-design">API-design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/god-praksis/bruk-av-webservice">Anbefalinger rundt Webservice</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/god-praksis/informasjonsforvaltning/api-tilganger">informasjonsforvaltning</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/god-praksis/integrasjonsmonster">integrasjonsmonster</a><button aria-label="Toggle the collapsible sidebar category &#x27;integrasjonsmonster&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/god-praksis/integrasjonsmonster/datalager">API som datalager</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/god-praksis/integrasjonsmonster/gammeldags-batch">Gammeldags fullstendig provisjonering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/god-praksis/integrasjonsmonster/hendelsesbasert">Hendelsesbasert provisjonering</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/god-praksis/notifikasjonsdesign">Hvordan designe dine notifikasjoner</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/kode">Kode som bruker IntArk</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/malgrupper/anskaffer">malgrupper</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/om">om</a><button aria-label="Toggle the collapsible sidebar category &#x27;om&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/prinsippene">Integrasjonsprinsippene for IntArk</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/styringsregler">Styringsreglene til IntArk</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform">teknisk-plattform</a><button aria-label="Toggle the collapsible sidebar category &#x27;teknisk-plattform&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/unntak">Unntakshåndtering</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/veiledere">veiledere</a><button aria-label="Toggle the collapsible sidebar category &#x27;veiledere&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/datadeling-docs-tmp/">🏠</a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/datadeling-docs-tmp/docs/datadeling">datadeling</a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/datadeling-docs-tmp/docs/datadeling/god-praksis">god-praksis</a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/datadeling-docs-tmp/docs/datadeling/god-praksis/integrasjonsmonster">integrasjonsmonster</a></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/datadeling-docs-tmp/docs/datadeling/god-praksis/integrasjonsmonster/hendelsesbasert">Hendelsesbasert provisjonering</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Hendelsesbasert provisjonering</h1></header><p>Detaljer om integrasjonsmønsteret &quot;hendelsesbasert provisjonering&quot;.</p><p>Dette er et integrasjonsmønster som anbefales brukt ved provisjonering mellom to systemer.</p><p>TODO: Skriv...</p><p><img loading="lazy" alt="Bildet kan inneholde: diagram, linje, tekst." src="/datadeling-docs-tmp/assets/images/ws-mq-sirkel-4bd045e962bb27a031ce3cb8a351aca0.png" width="814" height="434"></p><p>Vanlig flyt:</p><ol><li>Kildesystemet får endret data om en entitet, for eksempel ved saksbehandling.</li><li>Kildesystemet sender ut en notifikasjon om at entiteten er blitt endret.</li><li>Meldingskøen tar i mot notifikasjonen og distribuerer den ut til alle konsumenter som abonnerer på denne typen notifikasjon.</li><li>Konsumenten mottar notifikasjonen, og ser om den er relevant.</li><li>Konsumenten henter ut data fra kildesystemet sitt API</li><li>Konsumenten oppdaterer interne data med oppdaterte data fra tilbyderen.</li></ol><p>Hvis konsumenten selv er tilbyder av andre kildedata, som blir oppdatert basert
på dette, vil konsumenten bytte rolle og gå gjennom samme prosessen. Et
eksempel er at en navneendring i HR-systemet vil kunne føre til at
e-postadressen også vil måtte endres. HR er kildesystem for navn, og IGA kan
være kildesystem for e-postadresser.</p><p>Et tenkt eksempel fra flyten over:</p><ol><li>Kilde sender notifikasjon med innhold &quot;person 123 er endret&quot; til MQ som følge av at et telefonnummer er endret.</li><li>MQ videresender notifikasjonen til de konsumenter som abonnerer på denne typen notifikasjoner fra kilden.</li><li>Konsumenten får beskjed om at person 123 har en ukjent endring.</li><li>Konsumenten kontakter API manager, som styrer tilgangen til WS-en til kilden, for å spørre om personobjektet 123.</li><li>Alle kall til API manager, og som er forhåndsgodkjent, videresendes til WS-en.</li><li>WS-en returnerer personobjektet 123, med det oppdaterte telefonnummeret.</li><li>Konsumenten lagrer telefonnummeret.</li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="når-bør-dette-brukes">Når bør dette brukes?<a class="hash-link" href="#når-bør-dette-brukes" title="Direct link to heading">​</a></h2><p>Dette mønsteret passer når du trenger å provisjonere et endesystem med
kildedata fra en tilbyder, uten at sluttbrukeren er involvert.</p><p>Dette mønsteret bør brukes når noen forventer at data er tilgjengelig tilnærmet
umiddelbart, eller når fortløpende oppdateringer gir en bedre brukeropplevelse.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="fordeler">Fordeler<a class="hash-link" href="#fordeler" title="Direct link to heading">​</a></h2><ul><li><p>Data blir oppdatert raskere i mange systemer - &quot;tilnærmet umiddelbart&quot;.</p></li><li><p>Mye mindre ressurskrevende enn det eldre mønsteret der du henter <strong>alle</strong>
data fra kilden, og oppdaterer konsumenten.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="ulemper">Ulemper<a class="hash-link" href="#ulemper" title="Direct link to heading">​</a></h2><ul><li><p>Passer best for system-til-system-integrasjoner.</p></li><li><p>Har du veldig mange konsumenter vil det sette høyere krav til ytelsen hos
tilbyderen. Dette kan kompenseres ved for eksempel caching i API manager.</p></li><li><p>Å implementere notifikasjonsutsending kan vere krevende å implementere. Det
kan også være ukjent teknologi for utviklere.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="fallgruver">Fallgruver<a class="hash-link" href="#fallgruver" title="Direct link to heading">​</a></h2><p>Kildesystemet bør bare sende ut notifikasjoner når data faktisk er <strong>endret</strong>,
og ikke sende ut notifikasjoner bare fordi tjenesten har mottat notifikasjoner
fra andre. Falske positive notifikasjoner vil føre til mer ressursbruk, siden
tjeneste sender ut notifikasjoner som kan føre til unødvendige API-oppslag fra
konsumenter. I verste fall vil du kunne få evige meldingsløkker hvis to
systemer som snakker sammen gjør samme feilen - de vil sende samme
notifikasjonen fram og tilbake.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="se-også">Se også<a class="hash-link" href="#se-også" title="Direct link to heading">​</a></h2><ul><li><a href="/datadeling-docs-tmp/docs/datadeling/god-praksis/notifikasjonsdesign">Utforming av notifikasjoner</a></li></ul><p>TODO: Gammel:</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="hendelsesbasert-oppdatering">Hendelsesbasert oppdatering<a class="hash-link" href="#hendelsesbasert-oppdatering" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="provisjonering--need-to-know">Provisjonering – Need to Know<a class="hash-link" href="#provisjonering--need-to-know" title="Direct link to heading">​</a></h3><p>Provisjonering er det å sende en mengde data fra en applikasjon til en annen. Hvorfor man ønsker å gjøre dette kan være mange, men tradisjonelt har man basert integrasjoner på provisjonering fordi integrasjoner har vært tunge, filbaserte batch-oppdateringer. Man har laget store filer med komplette datasett, flyttet disse til konsumenten og der sammenligner man den store filen med konsumentens database for å se etter endringer. Dette er ikke en effektiv måte å integrere på. Isteden kan slik provisjonering være hendelsesdrevne:</p><p><img loading="lazy" src="/datadeling-docs-tmp/assets/images/ws-mq-sirkel-4bd045e962bb27a031ce3cb8a351aca0.png" width="814" height="434">
En entitet X oppdateres i Kilde. Kilde sender en notifikasjon til MQ om at entitet X er oppdatert. MQ sender en notifikasjon til konsumenter som abonnerer på denne typen notifikasjoner om at entitet X er oppdatert. Konsument vet ingenting om hva endringer består i, så Konsument kontakter API manager for å få tilgang til Kildens WS for å spørre om data om entitet X.</p><p>Mange applikasjoner, som i dag er baserte på gamle integrasjoner med provisjonering, trenger ikke å provisjonere data i den nye arkitekturen. Likevel er det et behov for provisjonering i de tilfeller der man lager moderne applikasjoner og integrasjoner. Eksempel: Når en ny person registreres i HR-systemet så er ikke HR-systemet ansvarlig for å utstede en brukerkonto til personen. Dette er IAM-kjernen (tidligere BAS, IdM) ansvarlig for. IAM-kjernen vet ikke at det er registrert en ny person i HR-systemet før HR-systemet gir beskjed. IAM-kjernen vil ikke kopiere alle data om personen fra HR-systemet, men den trenger data om personen for å lage en brukerkonto til vedkommende og da vil IAM-kjernen provisjonere noe data. IAM-kjernen vil beholde oversikt over hvem som er eier for brukerkonti f.eks. Disse eierne er provisjonert fra HR-systemet.</p><p>Man kan tenke seg et annet eksempel der flyten er lik som i figuren over, men man ikke provisjonerer – integrasjonen er basert på Need to Know. Forskjellen på provisjonering og Need to Know ligger i om konsumenten lagrer kopier av data fra kilden i sine datalagre. Distinksjonen mellom de to er minimal, men generelt skal man forsøke å unngå mellomlagring av data fra et kildesystem og heller hente disse dataene fra kilden ved behov. Av ulike årsaker kan dette vise seg vanskelig så provisjonering vil forekomme også i den nye arkitekturen.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="forskjell-fra-difis-enotifikasjon">Forskjell fra DiFis eNotifikasjon<a class="hash-link" href="#forskjell-fra-difis-enotifikasjon" title="Direct link to heading">​</a></h4><p>Selv om <em>Need to know</em> kan ligne veldig på eNotifikasjon-mønsteret fra DiFis <a href="https://doc.difi.no/nasjonal-arkitektur/nab_referanse_arkitekturer_datautveksling/" target="_blank" rel="noopener noreferrer">referansearkitektur for datautveksling</a>, er det til dels store avvik i mønstrene:</p><table><thead><tr><th></th><th>Need To Know</th><th>eNotifikasjon</th></tr></thead><tbody><tr><td>1</td><td>Får tilsendt en notifikasjon.</td><td></td></tr></tbody></table><p>Konsumenten kan være tilstandsløs, da konsumenten ikke trenger å ha begrep om hvilke notifikasjoner som er prosessert.</p><p> | Må hente en liste over notifikasjoner.</p><p>Konsumenten må lagre tilstand, da eNotifikasjon-mønsteret forutsetter at konsumenter vet hvilke notifikasjoner som er prosessert.</p><p> |
| 2 | Notifikasjonen inneholder kun nok informasjon til å identifisere hva som har endret seg.</p><p>Konsumenten må utføre <a href="https://doc.difi.no/nasjonal-arkitektur/nab_referanse_arkitekturer_datautveksling/#_eoppslag_generelt_arkitekturm%C3%B8nster" target="_blank" rel="noopener noreferrer">eOppslag</a> mot kildesystem før det kan avgjøres om det skal utføres en operasjon.</p><p> | Notifikasjonen inneholder informasjon om hva som har endret seg, og en identifikator til et <em>hendelsesdokument</em> som inneholder endrede data.</p><p>eNotifikasjonen bærer nok data til å avgjøre om det skal utføres en operasjon.</p><p> |
| 3 | Rekkefølgen notifikasjoner ankommer i er ikke garantert å være velordnet og sekvensiell. | Rekkefølgen notifikasjoner ankommer i er alltid velordnet og sekvensiell. |
| 4 | Ingen autorisasjon er nødvendig da notifikasjoner kun har informasjon om <em>hva</em> som er endret. Produsenter har ikke begrep om hvem som er konsumenter. | Autorisasjon kan være nødvendig da notifikasjoner kan inneholde data.  </p><p> I tilfeller der autorisasjon er nødvendig, må produsenter ha et begrep om hvem som skal kunne konsumere hvilke data. |
| 5 | Need To Know er en implementasjon av <a href="https://www.enterpriseintegrationpatterns.com/patterns/conversation/FireAndForget.html" target="_blank" rel="noopener noreferrer">Fire And Forget</a> og <a href="https://doc.difi.no/nasjonal-arkitektur/nab_referanse_arkitekturer_datautveksling/#_eoppslag_generelt_arkitekturm%C3%B8nster" target="_blank" rel="noopener noreferrer">eOppslag</a> mønstrene. | eNotifikasjon er en implementasjon av <a href="https://martinfowler.com/eaaDev/EventSourcing.html" target="_blank" rel="noopener noreferrer">Event Sourcing</a> mønsteret. |</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/jokim/datadelingsdokumentasjon/tree/master/docs/datadeling/god-praksis/integrasjonsmonster/hendelsesbasert.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/datadeling-docs-tmp/docs/datadeling/god-praksis/integrasjonsmonster/gammeldags-batch"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Gammeldags fullstendig provisjonering</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/datadeling-docs-tmp/docs/datadeling/god-praksis/notifikasjonsdesign"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Hvordan designe dine notifikasjoner</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#når-bør-dette-brukes" class="table-of-contents__link toc-highlight">Når bør dette brukes?</a></li><li><a href="#fordeler" class="table-of-contents__link toc-highlight">Fordeler</a></li><li><a href="#ulemper" class="table-of-contents__link toc-highlight">Ulemper</a></li><li><a href="#fallgruver" class="table-of-contents__link toc-highlight">Fallgruver</a></li><li><a href="#se-også" class="table-of-contents__link toc-highlight">Se også</a></li><li><a href="#hendelsesbasert-oppdatering" class="table-of-contents__link toc-highlight">Hendelsesbasert oppdatering</a><ul><li><a href="#provisjonering--need-to-know" class="table-of-contents__link toc-highlight">Provisjonering – Need to Know</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 HK-dir, Unit, Uninett AS</div></div></div></footer></div>
<script src="/datadeling-docs-tmp/assets/js/runtime~main.fed4331e.js"></script>
<script src="/datadeling-docs-tmp/assets/js/main.660318d4.js"></script>
</body>
</html>