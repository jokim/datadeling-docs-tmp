<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">API-design | Datadeling Test</title><meta data-react-helmet="true" property="og:url" content="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/god-praksis/api-design"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="API-design | Datadeling Test"><meta data-react-helmet="true" name="description" content="Anbefalinger rundt utforming av API."><meta data-react-helmet="true" property="og:description" content="Anbefalinger rundt utforming av API."><link data-react-helmet="true" rel="shortcut icon" href="/datadeling-docs-tmp/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/god-praksis/api-design"><link data-react-helmet="true" rel="alternate" href="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/god-praksis/api-design" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/god-praksis/api-design" hreflang="x-default"><link rel="stylesheet" href="/datadeling-docs-tmp/assets/css/styles.b121cd8c.css">
<link rel="preload" href="/datadeling-docs-tmp/assets/js/runtime~main.4c73dc9c.js" as="script">
<link rel="preload" href="/datadeling-docs-tmp/assets/js/main.d494f2be.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/datadeling-docs-tmp/"><img src="/datadeling-docs-tmp/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/datadeling-docs-tmp/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Datadeling</b></a><a class="navbar__item navbar__link navbar__link--active" href="/datadeling-docs-tmp/docs/intro">Dokumentasjon</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/datadeling-docs-tmp/docs/intro">Test av dokumentasjonen til prosjekt Datadeling</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">datadeling</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">begreper</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">community</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/faq">Spørsmål og svar</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">forvaltning</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">god-praksis</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">api-design</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/god-praksis/api-design">API-design</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/god-praksis/bruk-av-webservice">Webservice – hva og hvordan</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">datakvalitet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/god-praksis">God praksis</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">informasjonsforvaltning</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">integrasjonsmonster</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">notifikasjonsdesign</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">hva-er</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/index(1)">UH:IntArk - Datadeling i universitets- og høgskolesektoren</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling">UH:IntArk - Datadeling i universitets- og høgskolesektoren</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">innforing</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">kode</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">kontaktpunkt</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">kurs</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">malgrupper</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">om</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">prinsippene</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/sidestruktur">Sidestruktur</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/status">Status på arbeidet med nettsidene</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">styringsregler</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">teknisk-plattform</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">vedtak</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">veiledere</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">API-design</h1></header><p>Anbefalinger rundt utforming av API.</p><p>Jobber du med en tjeneste med data som andre vil kunne ha nytte av? I så fall trenger tjenesten din et API.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="prinsipper-for-godt-api-design"></a>Prinsipper for godt API design<a class="hash-link" href="#prinsipper-for-godt-api-design" title="Direct link to heading">#</a></h2><p>TBD: Høyr med Heidi om desse. Kva vart det landa på?</p><p>Utformingen av API må følge <a href="/datadeling-docs-tmp/docs/datadeling/prinsippene">integrasjonsprinsippene</a>, som blant annet sier at du bør ha et åpent gresesnitt og det bør være så løst koblet som mulig.</p><p>Overordnet valg av typen API:</p><ol><li>Finnes det en API-standard for datasettet du skal tilby? Prioriter å bruke denne! Standardisering gjør det enklere å bytte systemer, på begge sider av integrasjonen.</li><li>Bruk bransjestandarder, der det finnes. For eksempel bruk av RESTfult eller GraphQL. Se mer om IntArks anbefaling om <a href="/datadeling-docs-tmp/docs/datadeling/god-praksis/bruk-av-webservice">Web services</a>.</li><li>Finnes det lignende data i andre kildesystemer? Det bør i så fall først avklares hvilken tjeneste som er kildesystem for hvilke data.</li><li>Bruk lignende semantikk som i tilsvarende datasett andre steder, hvis mulig. Du anbefales å gjenbruke eksisterende datasett fra <a href="https://data.norge.no" target="_blank" rel="noopener noreferrer">data.norge.no</a>. Hvis det ikke finnes, kan du med fordel publisere eget definert datasett der.</li></ol><p>Hva <a href="/datadeling-docs-tmp/docs/datadeling/prinsippene">integrasjonsprinsippene</a> har å si når du skal designe et API:</p><ul><li><strong>Brukerorientert</strong>: Ha i bakhodet at brukernes behov kan endre seg raskt, og at vi også derfor bør kunne endre oss raskt. Endringsdyktighet kan fort være viktigere enn for eksempel hvor effektiv en integrasjon er.</li><li><strong>Tjenesteorientert</strong>: Bruk så løse koblinger som mulig, som vil si å gjøre det så enkelt som mulig å bytte ut tjenester på begge sider av en integrasjon. For eksempel:<ul><li>Bruk API-standarder, hvis det finnes</li><li>Bruk bransjestandarder, for eksempel RESTful</li><li>Hold API-et på funksjonelt nivå, og unngå systemspesifikke detaljer.</li><li>Bruk felles semantikk, hvis det finnes.</li><li>Unngå skreddersøm for en enkelt tjeneste. TBD: Korleis er dette i samanheng med eHelse si anbefaling om eitt API per type teneste (nettside, mobil etc)?</li></ul></li><li><strong>Tilgjengelig</strong>: Lag et åpent grensesnitt, som vil si at spesifikasjonen av ditt API må være fritt tilgjengelig og leverandøruavhengig. Motsetningen er proprietære grensesnitt som bare enkelte leverandører kan integrere mot, som reduserer fleksibiliteten til sektoren.</li><li><strong>Oversiktlig</strong>: Registrer ditt API i din institusjons API-katalog, og dokumenter den. IntArk anbefaler som minimum å følge <a href="https://www.openapis.org/" target="_blank" rel="noopener noreferrer">OpenAPI-spesifikasjonen</a> (swagger).</li><li><strong>Etterrettelig:</strong> Konsumenter må snakke med ditt API via din institusjons API gateway. Dette gjør at institusjonen får samlet oversikt over dataflyt, og har kontroll og kan for eksempel sperre tilganger ved behov.</li><li><strong>Fleksibel</strong>: Unntak fra prinsipper og anbefalinger er tillatt, men må begrunnes. Det kan for eksempel bli vurdert å ikke være hensiktsmessig å utvikle et nytt API hvis en liten tjeneste har et proprietært API som fungerer greit nok. Vurderingen må gjøres med hensyn på institusjonen og sektoren som helhet.</li><li><strong>Effektiv</strong>: Noen datasett kan være ønskelig å kombinere for mange konsumenter. Det kan da være nyttig å lage et knutepunkt, eller tjenestebuss, som sammenstiller disse dataene.</li><li>TODO:<ul><li>Kor står det om å snakke direkte med kilden?</li><li>Kor står det om ansvarsplassering?</li></ul></li></ul><p>Andre hensyn du bør ta:</p><ul><li>Hold API på funksjonelt nivå så langt det er mulig. Unngå for eksempel å eksponere interne systemdetaljer i API-et, for eksempel hvilke databasetabeller du må snakke med. Konsumenter ønsker å fokusere på dataene, uten å måtte ha kunnskap om interne detaljer i systemet ditt.</li><li>TODO: Si noe om semantikk og begrepsbruk.</li></ul><p>Andre krav til et API:</p><ul><li>Registrer ditt API i din institusjons API-katalog.</li><li>API-et må være dokumentert. Minimumskravet er at det er dokumentert etter <a href="https://www.openapis.org/" target="_blank" rel="noopener noreferrer">OpenAPI-spesifikasjonen</a> (typisk i swagger-dokumentasjon), som bør ligge i eller lenkes til fra API-katalogen.</li><li>TBD: Si noe om krav til dokumentasjon av datasett? Har vi noe å lene oss på, for eksempel standarder å følge?</li></ul><p>Andre tips:</p><ul><li>Snakk med konsumentene! Det er lett å gå i fella å inkludere systemspesifikke detaljer i API-et ditt, så det kan vere nyttig å ha en dialog med <strong>flere</strong> konsumenter, og komme frem til noen felles begreper på funksjonelt nivå. Hjelpespørsmål:<ul><li>Hva er konsumenten interessert i å vite om?</li><li>Trenger konsumenten egentlig å vite om detalj X?</li><li>Kan det forenkles?</li></ul></li><li>Det er ikke enkelt å lage et godt API-design. Du bør ofte ta noen iterasjoner før du har et API som er generelt og fungerer godt for alle konsumenter, og som følger IntArk sine behov.</li></ul><p>TODO: Inkludere noko om begrepsansvarleg?</p><p>TODO: Nemne versjonering. Sei noko om krav til levetid for gamle versjonar - lenke til vedtak? TODO</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="områder"></a>Områder<a class="hash-link" href="#områder" title="Direct link to heading">#</a></h2><ul><li>Hvordan bygge endepunkter</li><li>god praksis, td unngå verb, alltid flertall, REST</li><li></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="semantikk"></a>Semantikk<a class="hash-link" href="#semantikk" title="Direct link to heading">#</a></h2><p>TBD: Frå heidi?</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sjekkliste-for-api"></a>Sjekkliste for API<a class="hash-link" href="#sjekkliste-for-api" title="Direct link to heading">#</a></h2><p>Hvis du designer et API:</p><ul><li>Er API-et på funksjonelt nok nivå?</li><li>Følger API-et prinsippene til RESTful?</li><li>Inneholder API teknisk terminologi som egentlig burde vært systeminterne?</li><li>Trenger konsumenter å kjenne til datamodellen?</li></ul><p>TODO: Sei noko rundt å skille ut personinformasjon frå andre data. Så det vert enklare å tilgangsstyre. Til dømes å kunne dele ut emner, utan å måtte eksponere studentane.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/jokim/datadeling-docs-tmp/tree/gh-pages/docs/datadeling/god-praksis/api-design/index.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/datadeling-docs-tmp/docs/datadeling/forvaltning/portefolje"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Tjenesteportefølje</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/datadeling-docs-tmp/docs/datadeling/god-praksis/bruk-av-webservice"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Webservice – hva og hvordan »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prinsipper-for-godt-api-design" class="table-of-contents__link">Prinsipper for godt API design</a></li><li><a href="#områder" class="table-of-contents__link">Områder</a></li><li><a href="#semantikk" class="table-of-contents__link">Semantikk</a></li><li><a href="#sjekkliste-for-api" class="table-of-contents__link">Sjekkliste for API</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 HK-dir, Unit, Uninett AS</div></div></div></footer></div>
<script src="/datadeling-docs-tmp/assets/js/runtime~main.4c73dc9c.js"></script>
<script src="/datadeling-docs-tmp/assets/js/main.d494f2be.js"></script>
</body>
</html>