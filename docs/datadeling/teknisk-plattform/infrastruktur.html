<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">Infrastrukturen til IntArks tekniske plattform | Datadeling Test</title><meta data-react-helmet="true" property="og:url" content="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/teknisk-plattform/infrastruktur"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Infrastrukturen til IntArks tekniske plattform | Datadeling Test"><meta data-react-helmet="true" name="description" content="IntArk sin tekniske plattform kj칮rer p친 en Kubernetes-distribusjon som er"><meta data-react-helmet="true" property="og:description" content="IntArk sin tekniske plattform kj칮rer p친 en Kubernetes-distribusjon som er"><link data-react-helmet="true" rel="shortcut icon" href="/datadeling-docs-tmp/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/teknisk-plattform/infrastruktur"><link data-react-helmet="true" rel="alternate" href="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/teknisk-plattform/infrastruktur" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/teknisk-plattform/infrastruktur" hreflang="x-default"><link rel="stylesheet" href="/datadeling-docs-tmp/assets/css/styles.b121cd8c.css">
<link rel="preload" href="/datadeling-docs-tmp/assets/js/runtime~main.0ca24503.js" as="script">
<link rel="preload" href="/datadeling-docs-tmp/assets/js/main.3cae280c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/datadeling-docs-tmp/"><img src="/datadeling-docs-tmp/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/datadeling-docs-tmp/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Datadeling</b></a><a class="navbar__item navbar__link navbar__link--active" href="/datadeling-docs-tmp/docs/intro">Dokumentasjon</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">游꺂</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">游</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/datadeling-docs-tmp/docs/intro">Test av dokumentasjonen til prosjekt Datadeling</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">datadeling</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling">IntArk</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">begreper</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">erfaringer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/faq">Sp칮rsm친l og svar</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">god-praksis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/kode">Kode som bruker IntArk</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">kurs</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">malgrupper</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">om</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/prinsippene">Prinsippene for IntArk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/styringsregler">Styringsreglene til IntArk</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">teknisk-plattform</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform">IntArk sin tekniske plattform</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/oversikt">Oversikt over den tekniske plattformen</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">api</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/brom">Selvbetjening for RabbitMQ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/gravitee">Gravitee</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/infrastruktur">Infrastrukturen til IntArks tekniske plattform</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/krav">F칮ringer for bruk av teknisk plattform i IntArk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/prosessene">Prosessene for teknisk plattform</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/rabbitmq">RabbitMQ</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/unntak">Unntaksh친ndtering i IntArk</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">veiledere</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Infrastrukturen til IntArks tekniske plattform</h1></header><p>IntArk sin tekniske plattform kj칮rer p친 en Kubernetes-distribusjon som er
installert i <a href="https://nrec.no" target="_blank" rel="noopener noreferrer">NREC</a>, i osl-sonen.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="okd-openshift-kubernetes"></a>OKD OpenShift Kubernetes<a class="hash-link" href="#okd-openshift-kubernetes" title="Direct link to heading">#</a></h3><p><a href="https://okd.io" target="_blank" rel="noopener noreferrer">OKD</a> er &quot;The Community Distribution of Kubernetes that powers
<a href="https://www.openshift.com" target="_blank" rel="noopener noreferrer">Red Hat OpenShift</a>&quot;, og er upstream-versjonen av
OpenShift. Det blir i dagligtale ofte omtalt som <em>OpenShift</em>.</p><p>IntArk-plattformen har egne clustre som kj칮rer p친 NREC i osl-sonen. De er
installert med <em>ovs-multitenant SDN plugin</em>, og hvert prosjekt (namespace) er
nettverksmessig isolert.</p><p>Hver institusjon som bruker IntArk-plattformen har hvert sitt prosjekt hvor
Gravitee, RabbitMQ og BROM kj칮rer.</p><p>Oppgraderinger av OKD er basert p친 blue-green-metodikk. Det vil si at
oppgraderinger skjer ved 친 installere nytt cluster med nyeste versjon av
alle komponenter, og deretter flytte applikasjonene fra et cluster til et
annet. Dette betyr at alle tjenester vil bytte IP-adresse ved oppgraderinger.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="lastbalanserer"></a>Lastbalanserer<a class="hash-link" href="#lastbalanserer" title="Direct link to heading">#</a></h3><p>Det st친r en lastbalanserer i forkant som sender trafikk til riktig cluster.
Denne har samme IP-adresse for alle, og bruker <a href="https://en.wikipedia.org/wiki/Server_Name_Indication" target="_blank" rel="noopener noreferrer">Server Name Indication
(SNI)</a> for 친 route
trafikken til riktig sted. I web-verdenen har dette v칝rt standard lenge og man
beh칮ver vanligvis ikke tenke p친 dette. N친r man skal koble til en meldingsk칮 m친
man derimot ofte spesifisere at man skal bruke SNI.</p><p><img alt="Tekniske komponenter i IntArk-plattformen" src="/datadeling-docs-tmp/assets/images/intark-komponenter-630785cbecd15233752216c5c4523dbd.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ip-ranges"></a>IP-ranges<a class="hash-link" href="#ip-ranges" title="Direct link to heading">#</a></h3><p>IntArk sin tekniske plattform kj칮rer i regionen <em>osl</em> til NREC. Hvis du 칮nsker
친 lage brannmurregler som ikke trenger hyppige oppdateringer anbefaler vi 친
친pne for alle subnettene til NREC. Se <a href="https://iaas.readthedocs.io/team/installation/ip.html" target="_blank" rel="noopener noreferrer">NREC sin oversikt hvilke nettverk de
bruker</a>.</p><p>Vi anbefaler <strong>ikke</strong> 친 sperre ned til spesifikke IP-adresser, fordi:</p><ol><li>IntArk-installasjonene bytter cluster ved oppgraderinger</li><li>Tjenester kan bytte IP-adresse</li><li>Cluster utvides fortl칮pende med nye servere</li></ol><p>Ulempen ved 친 친pne for alle subnettene til NREC, eller til et spesifikt
cluster, er at de deles av andre institusjoner. Hvis du har API med strenge
krav til brannmurregler anbefaler vi at du kj칮rer dette via en
http-proxy-server som krever brukernavn og passord.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/jokim/datadelingsdokumentasjon/tree/master/docs/datadeling/teknisk-plattform/infrastruktur.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/gravitee"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">춺 Gravitee</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/krav"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">F칮ringer for bruk av teknisk plattform i IntArk 췉</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#okd-openshift-kubernetes" class="table-of-contents__link">OKD OpenShift Kubernetes</a></li><li><a href="#lastbalanserer" class="table-of-contents__link">Lastbalanserer</a></li><li><a href="#ip-ranges" class="table-of-contents__link">IP-ranges</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 춸 2022 HK-dir, Unit, Uninett AS</div></div></div></footer></div>
<script src="/datadeling-docs-tmp/assets/js/runtime~main.0ca24503.js"></script>
<script src="/datadeling-docs-tmp/assets/js/main.3cae280c.js"></script>
</body>
</html>