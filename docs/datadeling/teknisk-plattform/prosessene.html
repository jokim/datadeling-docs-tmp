<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">Prosessene for teknisk plattform | Datadeling Test</title><meta data-react-helmet="true" property="og:url" content="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/teknisk-plattform/prosessene"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Prosessene for teknisk plattform | Datadeling Test"><meta data-react-helmet="true" name="description" content="Må svare ut:


Hva må Uninett gjøre? Hva må USIT gjøre? Hva kan/må institusjonene gjøre?"><meta data-react-helmet="true" property="og:description" content="Må svare ut:


Hva må Uninett gjøre? Hva må USIT gjøre? Hva kan/må institusjonene gjøre?"><link data-react-helmet="true" rel="shortcut icon" href="/datadeling-docs-tmp/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/teknisk-plattform/prosessene"><link data-react-helmet="true" rel="alternate" href="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/teknisk-plattform/prosessene" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://jokim.github.io//datadeling-docs-tmp/docs/datadeling/teknisk-plattform/prosessene" hreflang="x-default"><link rel="stylesheet" href="/datadeling-docs-tmp/assets/css/styles.b121cd8c.css">
<link rel="preload" href="/datadeling-docs-tmp/assets/js/runtime~main.55f61790.js" as="script">
<link rel="preload" href="/datadeling-docs-tmp/assets/js/main.7b16ab79.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/datadeling-docs-tmp/"><img src="/datadeling-docs-tmp/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/datadeling-docs-tmp/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Datadeling</b></a><a class="navbar__item navbar__link navbar__link--active" href="/datadeling-docs-tmp/docs/intro">Dokumentasjon</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/datadeling-docs-tmp/docs/intro">Test av dokumentasjonen til prosjekt Datadeling</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">datadeling</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling">IntArk</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">begreper</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">erfaringer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/faq">Spørsmål og svar</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">god-praksis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/kode">Kode som bruker IntArk</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">kurs</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">malgrupper</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">om</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/prinsippene">Prinsippene for IntArk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/styringsregler">Styringsreglene til IntArk</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">teknisk-plattform</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/api-manager">API manager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/api-plan-applikasjon">Hvordan vi bruker Gravitee som API manager</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">api</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/brom">Selvbetjening for RabbitMQ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/gravitee">Gravitee</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform">IntArk sin tekniske plattform</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/krav">Føringer for bruk av teknisk plattform i IntArk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/mq-oppsett">Bruk av meldingskø</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/oversikt">Oversikt over den tekniske plattformen</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/prosessene">Prosessene for teknisk plattform</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/rabbitmq">RabbitMQ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/teknisk">Tekniske detaljer om IntArk-plattformen</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/datadeling-docs-tmp/docs/datadeling/unntak">Unntakshåndtering i IntArk</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">veiledere</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Prosessene for teknisk plattform</h1></header><p>Må svare ut:</p><p>Hva må Uninett gjøre? Hva må USIT gjøre? Hva kan/må institusjonene gjøre?</p><p>TODO: Fyll ut</p><p>Teknisk plattform skal dekke prosessene beskrevet i referansearkitekturen for datadeling i UHF-sektoren:</p><p><img src="/datadeling-docs-tmp/assets/images/arch-datautveksling-e21b55ab8ea90617c9b17120fffa03a1.png"></p><p>TODO:<img src="/datadeling-docs-tmp/assets/images/todo-prosesser-53b018a0a6c317b5c8a45d7eb5bef731.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="prosessene"></a>Prosessene<a class="hash-link" href="#prosessene" title="Direct link to heading">#</a></h2><p>Use case: IAM-prosjektet skal sette opp integrasjon mellom FS og RI for HiMolde.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="api-manager"></a>API manager<a class="hash-link" href="#api-manager" title="Direct link to heading">#</a></h3><p>Sette opp FS API:</p><ol><li>Dataeier må sikre at det juridiske er på plass. Uninett kan bistå med maler og rådgiving.</li><li>Registrere API<ol><li>Studieadministrasjonen (tjenesteeier/datatilbyder/dataeier/dataforvalter) får tilkoblingsinformasjon fra FS (Unit). Treng evt dialog om oppsett.<ul><li>Generelt: Dataeier har dialog med leverandør av tjenesten, og får tilkoblingsinformasjon fra tenesteleverandøren.</li><li>Kven: Dataeier <strong>bør</strong> gjøre dette (kan delegeres internt), men USIT/Uninett kan bistå med det tekniske, så lenge dataeier har dialog med FS (Unit) om å godkjenne at vi får tilgang til passord etc.</li></ul></li><li>HiMolde sin Studieadm (dataeier) registrerer FS API i Gravitee.<ul><li>Generelt: Dataeier konfigurerer og publiserer API-et i Gravitee.</li><li>Kven: Dataeier kan gjøre det (kan delegeres internt), men USIT/Uninett kan gjøre det på vegne.</li><li>Kommentar: Vi ønsker at planer settes opp likest mulig mellom institusjonene, for å sikre at integrasjoner trenger minst mulig tilpasninger. Homogenisering av planer for kjente API, slik som FS. Kan enten gjøres ved bistand, eventuelt legge ut maler/templates for kjente API som institusjonen kan bruke, inkl. veileder.</li></ul></li></ol></li><li>Registrere datakonsument (application)<ol><li>Tjenesteeier for RI hos HiMolde registrerer application i Gravitee.<ul><li>Hvem: Teknisk sett kan alle med Feide-konto logge på og registrere, om institusjonen har tillatt det. Kan trolig gjøres av RI selv, men det er praktiske ulemper med det. Er trolig også uryddig ansvar? Kunne hende at Uninett kunne registrert applikasjonen, som tjenesteleverandør av RI. Bør diskuteres. Hos UiO sier vi at det er tjenesteeier som skal registrere og eie applikasjonen, da det virker ryddigst. Fordeler og ulemper - gir td. tilgang til å feilsøke.</li></ul></li><li>Tjenesteeier for RI hos HiMolde ber om tilgang tli FS API<ul><li>Generelt: Tjenesteeier/datakonsument ber om tilgang til API</li><li>Hvem: Dataeier (kan delegeres internt). Se punktet over, tilsvarende.</li><li>Kommentar: Søknad bør ha god beskrivelse eller referanse.</li></ul></li><li>HiMolde sin Studieadm (dataeier) godkjenner tilgangen i Gravitee.<ul><li>Generelt:</li><li>Hvem: Dette bør/må vere dataeier, i alle fall ansvaret. Juridisk sett. Ønsker ikke delegere, for å tvinge et eierskap til tilgangsoversikt.</li><li>Kommentar: Avtaler må på plass først, og evt. ROS-analyse og andre formaliteter. TODO: Lenk til dokumentasjonen/veileder.</li></ul></li><li>HiMolde sender API-nøkkel til Uninett IAM.<ul><li>Generelt:</li><li>Hvem: Hvis delegert til Uninett faller det bort, siden det går internt.</li><li>Kommentar: Nøkkel må sendes på sikker måte.</li></ul></li></ol></li></ol><p>(Mulig Gravitee Cockpit kan forenkle oppsettet av FS-API, men tilganger må fremdeles styres hos institusjonen)</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="rabbitmq"></a>RabbitMQ<a class="hash-link" href="#rabbitmq" title="Direct link to heading">#</a></h3><p>BROM er på samme måte som API manager.</p><ol><li>Tjenesteeier må registrere datatilbyders system i BROM (kalles applikasjon i BROM)<ul><li>Fyll inn dokumentasjon etc</li><li>(Dette påvirker RabbitMQ direkte - setter opp en vhost ferdig satt opp)</li></ul></li><li>Tjenesteeier/datatilbyder registrerer i BROM at systemet sitt publiserer notifikasjoner.</li><li>Delegere tilgang til application i BROM til teknikere, så de kan hente hemmeligheter(?) etc. og sette opp notifikasjonsutsendinger mot riktig punkt.</li><li>Teknikere må sette opp tjenesten til å koble til rabbitmq</li><li>Konsumenter må opprette sin applikasjon i BROM</li><li>Konsumenter må abonnere (søke) på applikasjonen til datatilbyder (fra punkt 1)</li><li>Tjenesteeier må akseptere abonnementet til konsument, i BROM.<ul><li>(Dette setter opp overføringen fra datatilbyder til konsument)</li></ul></li><li>Konsument henter ut tilkoblingsdetaljer i BROM for applikasjonstilgangen<ul><li>Må sendes på sikker måte.</li></ul></li></ol><p>BROM bruker dataporten-grupper for tilgang (ad hoc). Ikke så optimalt.</p><p>Bør trolig ikke gi noen tilgang til RabbitMQ direkte. Bruk BROM. Tvinger folk til riktig oppsett.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/jokim/datadelingsdokumentasjon/tree/master/docs/datadeling/teknisk-plattform/prosessene.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/oversikt"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Oversikt over den tekniske plattformen</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/datadeling-docs-tmp/docs/datadeling/teknisk-plattform/rabbitmq"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">RabbitMQ »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prosessene" class="table-of-contents__link">Prosessene</a><ul><li><a href="#api-manager" class="table-of-contents__link">API manager</a></li><li><a href="#rabbitmq" class="table-of-contents__link">RabbitMQ</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 HK-dir, Unit, Uninett AS</div></div></div></footer></div>
<script src="/datadeling-docs-tmp/assets/js/runtime~main.55f61790.js"></script>
<script src="/datadeling-docs-tmp/assets/js/main.7b16ab79.js"></script>
</body>
</html>